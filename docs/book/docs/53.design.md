
        <h2 id="t01. &#x4EC0;&#x4E48;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;">1. &#x4EC0;&#x4E48;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61; <a href="#t01. &#x4EC0;&#x4E48;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;"> # </a></h2>
<ul>
<li>&#x628A;&#x5BA2;&#x89C2;&#x5BF9;&#x8C61;&#x62BD;&#x8C61;&#x6210;&#x5C5E;&#x6027;&#x6570;&#x636E;&#x548C;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#xFF0C;&#x628A;&#x5185;&#x90E8;&#x7EC6;&#x8282;&#x548C;&#x4E0D;&#x60F3;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x9690;&#x85CF;&#x8D77;&#x6765;&#xFF0C;&#x628A;&#x540C;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x5BA2;&#x89C2;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x6570;&#x636E;&#x548C;&#x64CD;&#x4F5C;&#x7ED1;&#x5B9A;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5C01;&#x88C5;&#x6210;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x5141;&#x8BB8;&#x5206;&#x6210;&#x4E0D;&#x540C;&#x5C42;&#x6B21;&#x8FDB;&#x884C;&#x62BD;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x5B9E;&#x73B0;&#x5C5E;&#x6027;&#x548C;&#x64CD;&#x4F5C;&#x7684;&#x5171;&#x4EAB;<ul>
<li>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x6790; OOA</li>
<li>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BBE;&#x8BA1; OOD</li>
<li>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7F16;&#x7A0B; OOP</li>
</ul>
</li>
</ul>
<h3 id="t11.1 &#x6982;&#x5FF5;">1.1 &#x6982;&#x5FF5; <a href="#t11.1 &#x6982;&#x5FF5;"> # </a></h3>
<ul>
<li>&#x7C7B;&#x3001;&#x5BF9;&#x8C61;(&#x5B9E;&#x4F8B;)</li>
<li>&#x7236;&#x7C7B;&#x662F;&#x516C;&#x5171;&#x7684;</li>
</ul>
<pre><code class="lang-js">class Animal{
    constructor(name) {
        this.name=name;
    }
    eat() {
        console.log(`${this.name} eat`)
    }
}
let animal=new Person(&apos;&#x52A8;&#x7269;&apos;);
animal.eat();
</code></pre>
<h3 id="t21.2 &#x7EE7;&#x627F;">1.2 &#x7EE7;&#x627F; <a href="#t21.2 &#x7EE7;&#x627F;"> # </a></h3>
<ul>
<li>&#x5B50;&#x7C7B;&#x7EE7;&#x627F;&#x7236;&#x7C7B;</li>
<li>&#x7EE7;&#x627F;&#x53EF;&#x4EE5;&#x628A;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#x62BD;&#x79BB;&#x51FA;&#x6765;&#xFF0C;&#x63D0;&#x9AD8;&#x590D;&#x7528;&#xFF0C;&#x51CF;&#x5C11;&#x5197;&#x4F59;</li>
</ul>
<pre><code class="lang-js">class Animal{
    constructor(name) {
        this.name=name;
    }
    eat() {
        console.log(`${this.name} eat`)
    }
    speak() {

    }
}
let animal=new Animal(&apos;&#x52A8;&#x7269;&apos;);
animal.eat();

class Dog extends Animal{
    constructor(name,age) {
        super(name);
        this.age=age;
    }
    speak() {
        console.log(`${this.name} is barking!`);
    }
}
let dog=new Dog(&apos;&#x1F436;&apos;,5);
dog.eat();
dog.bark();
</code></pre>
<h3 id="t31.3 &#x5C01;&#x88C5;">1.3 &#x5C01;&#x88C5; <a href="#t31.3 &#x5C01;&#x88C5;"> # </a></h3>
<ul>
<li>&#x628A;&#x6570;&#x636E;&#x5C01;&#x88C5;&#x8D77;&#x6765;</li>
<li>&#x51CF;&#x5C11;&#x8026;&#x5408;&#xFF0C;&#x4E0D;&#x8BE5;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#x7684;&#x4E0D;&#x8981;&#x8BA9;&#x5916;&#x90E8;&#x8BBF;&#x95EE;</li>
<li>&#x5229;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x63A5;&#x53E3;&#x6743;&#x9650;&#x7BA1;&#x7406;</li>
<li>ES6 &#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x4E00;&#x822C;&#x8BA4;&#x4E3A;_&#x5F00;&#x5934;&#x7684;&#x90FD;&#x4F1A;&#x79C1;&#x6709;&#x7684;&#xFF0C;&#x4E0D;&#x8981;&#x4F7F;&#x7528;</li>
<li>&#x5B9E;&#x73B0;<ul>
<li>public:&#x516C;&#x6709;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x5185;&#x6216;&#x8005;&#x7C7B;&#x5916;&#x4F7F;&#x7528;public&#x4FEE;&#x9970;&#x7684;&#x5C5E;&#x6027;&#x6216;&#x8005;&#x884C;&#x4E3A;&#xFF0C;&#x9ED8;&#x8BA4;&#x4FEE;&#x9970;&#x7B26;</li>
<li>protected:&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x53EF;&#x4EE5;&#x672C;&#x7C7B;&#x548C;&#x5B50;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;protected&#x4FEE;&#x9970;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x884C;&#x4E3A;</li>
<li>private : &#x79C1;&#x6709;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x53EA;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x5185;&#x4F7F;&#x7528;private&#x4FEE;&#x9970;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x884C;&#x4E3A;</li>
</ul>
</li>
</ul>
<pre><code class="lang-js">class Animal {
    public name;
    protected age;
    private weight;
    constructor(name,age,weight) {
        this.name=name;
        this.age=age;
        this.weight=weight;
    }
}
class Person extends Animal {
    private money;
    constructor(name,age,weight,money) {
        super(name,age,weight);
        this.money=money;
    }
    getName() {
        console.log(this.name);
    }
    getAge() {
        console.log(this.age);
    }
    getWeight() {
        console.log(this.weight);
    }
}
let p=new Person(&apos;zfpx&apos;,9,100,100);
console.log(p.name);
console.log(p.age);
console.log(p.weight);
</code></pre>
<pre><code class="lang-js">module: {
        rules: [
            {
                test: /\.js$/,
                use: {
                    loader: &apos;babel-loader&apos;,
                    options: {
                        presets:[&quot;@babel/preset-env&quot;]
                    }
                }
            },
            {
                test: /\.ts$/,
                use: {
                    loader: &apos;ts-loader&apos;
                }
            }
        ]
    }
</code></pre>
<h3 id="t41.4 &#x591A;&#x6001;">1.4 &#x591A;&#x6001; <a href="#t41.4 &#x591A;&#x6001;"> # </a></h3>
<ul>
<li>&#x540C;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;</li>
<li>&#x4FDD;&#x6301;&#x5B50;&#x7C7B;&#x7684;&#x5F00;&#x653E;&#x6027;&#x548C;&#x7075;&#x6D3B;&#x6027;</li>
<li>&#x9762;&#x5411;&#x63A5;&#x53E3;&#x7F16;&#x7A0B;  </li>
</ul>
<pre><code class="lang-js">class Animal {
    public name;
    protected age;
    private weight;
    constructor(name,age,weight) {
        this.name=name;
        this.age=age;
        this.weight=weight;
    }
}
class Person extends Animal {
    private money;
    constructor(name,age,weight,money) {
        super(name,age,weight);
        this.money=money;
    }
    speak() {
        console.log(&apos;&#x4F60;&#x597D;!&apos;);
    }    
}
class Dog extends Animal {
    private money;
    constructor(name,age,weight) {
        super(name,age,weight);
    }
    speak() {
        console.log(&apos;&#x6C6A;&#x6C6A;&#x6C6A;!&apos;);
    }    
}

let p=new Person(&apos;zfpx&apos;,10,10,10);
p.speak();
let d=new Dog(&apos;zfpx&apos;,10,10);
d.speak();
</code></pre>
<h2 id="t52. &#x8BBE;&#x8BA1;&#x539F;&#x5219;">2. &#x8BBE;&#x8BA1;&#x539F;&#x5219; <a href="#t52. &#x8BBE;&#x8BA1;&#x539F;&#x5219;"> # </a></h2>
<h3 id="t62.1 &#x4EC0;&#x4E48;&#x662F;&#x8BBE;&#x8BA1;&#xFF1F;">2.1 &#x4EC0;&#x4E48;&#x662F;&#x8BBE;&#x8BA1;&#xFF1F; <a href="#t62.1 &#x4EC0;&#x4E48;&#x662F;&#x8BBE;&#x8BA1;&#xFF1F;"> # </a></h3>
<ul>
<li>&#x6309;&#x54EA;&#x4E00;&#x79CD;&#x601D;&#x8DEF;&#x6216;&#x8005;&#x6807;&#x51C6;&#x6765;&#x5B9E;&#x73B0;&#x529F;&#x80FD;</li>
<li>&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x4E0D;&#x540C;&#x8BBE;&#x8BA1;&#x7684;&#x65B9;&#x5F0F;</li>
<li>&#x9700;&#x6C42;&#x5982;&#x679C;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#xFF0C;&#x8BBE;&#x8BA1;&#x7684;&#x4F5C;&#x7528;&#x624D;&#x80FD;&#x4F53;&#x73B0;&#x51FA;&#x6765;</li>
</ul>
<h2 id="t72.2 SOLID&#x4E94;&#x5927;&#x8BBE;&#x8BA1;&#x539F;&#x5219;">2.2 SOLID&#x4E94;&#x5927;&#x8BBE;&#x8BA1;&#x539F;&#x5219; <a href="#t72.2 SOLID&#x4E94;&#x5927;&#x8BBE;&#x8BA1;&#x539F;&#x5219;"> # </a></h2>
<table>
<thead>
<tr>
<th style="text-align:left">&#x9996;&#x5B57;&#x6BCD;</th>
<th style="text-align:left">&#x6307;&#x4EE3;</th>
<th style="text-align:left">&#x6982;&#x5FF5;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;</td>
<td style="text-align:left">&#x5355;&#x4E00;&#x529F;&#x80FD;&#x539F;&#x5219;&#x8BA4;&#x4E3A;&#x5BF9;&#x8C61;&#x5E94;&#x8BE5;&#x4EC5;&#x5177;&#x6709;&#x4E00;&#x79CD;&#x5355;&#x4E00;&#x529F;&#x80FD;&#x7684;&#x6982;&#x5FF5;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">O</td>
<td style="text-align:left">&#x5F00;&#x653E;&#x5C01;&#x95ED;&#x539F;&#x5219;</td>
<td style="text-align:left">&#x5F00;&#x95ED;&#x539F;&#x5219;&#x8BA4;&#x4E3A;&#x201C;&#x8F6F;&#x4EF6;&#x4F53;&#x5E94;&#x8BE5;&#x662F;&#x5BF9;&#x4E8E;&#x6269;&#x5C55;&#x5F00;&#x653E;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4FEE;&#x6539;&#x5C01;&#x95ED;&#x7684;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">L</td>
<td style="text-align:left">&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;</td>
<td style="text-align:left">&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;&#x8BA4;&#x4E3A;&#x201C;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x5E94;&#x8BE5;&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x7A0B;&#x5E8F;&#x6B63;&#x786E;&#x6027;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x88AB;&#x5B83;&#x7684;&#x5B50;&#x7C7B;&#x6240;&#x66FF;&#x6362;&#x7684;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x53C2;&#x8003; &#x5951;&#x7EA6;&#x5F0F;&#x8BBE;&#x8BA1;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">I</td>
<td style="text-align:left">&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;</td>
<td style="text-align:left">&#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;&#x8BA4;&#x4E3A;&#x201C;&#x591A;&#x4E2A;&#x7279;&#x5B9A;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#x8981;&#x597D;&#x4E8E;&#x4E00;&#x4E2A;&#x5BBD;&#x6CDB;&#x7528;&#x9014;&#x7684;&#x63A5;&#x53E3;&#x201D;[5] &#x7684;&#x6982;&#x5FF5;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">D</td>
<td style="text-align:left">&#x4F9D;&#x8D56;&#x53CD;&#x8F6C;&#x539F;&#x5219;</td>
<td style="text-align:left">&#x4F9D;&#x8D56;&#x53CD;&#x8F6C;&#x539F;&#x5219;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5E94;&#x8BE5;&#x9075;&#x4ECE;&#x201C;&#x4F9D;&#x8D56;&#x4E8E;&#x62BD;&#x8C61;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x201D;[5] &#x7684;&#x6982;&#x5FF5;&#x3002;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x662F;&#x8BE5;&#x539F;&#x5219;&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002;</td>
</tr>
</tbody>
</table>
<h3 id="t82.2.1 S &#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;">2.2.1 S &#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219; <a href="#t82.2.1 S &#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;"> # </a></h3>
<ul>
<li>Single responsibility principle</li>
<li>&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EA;&#x505A;&#x597D;&#x4E00;&#x4EF6;&#x4E8B;</li>
<li>&#x5982;&#x679C;&#x529F;&#x80FD;&#x7279;&#x522B;&#x590D;&#x6742;&#x5C31;&#x8FDB;&#x884C;&#x62C6;&#x5206;</li>
</ul>
<h3 id="t92.2.2 O &#x5F00;&#x653E;&#x5C01;&#x95ED;&#x539F;&#x5219;">2.2.2 O &#x5F00;&#x653E;&#x5C01;&#x95ED;&#x539F;&#x5219; <a href="#t92.2.2 O &#x5F00;&#x653E;&#x5C01;&#x95ED;&#x539F;&#x5219;"> # </a></h3>
<ul>
<li>Open Closed Principle</li>
<li>&#x5BF9;&#x6269;&#x5C55;&#x5F00;&#x653E;&#xFF0C;&#x5BF9;&#x4FEE;&#x6539;&#x5173;&#x95ED;</li>
<li>&#x589E;&#x52A0;&#x9700;&#x6C42;&#x65F6;&#xFF0C;&#x6269;&#x5C55;&#x65B0;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x975E;&#x4FEE;&#x6539;&#x5DF2;&#x6709;&#x4EE3;&#x7801;</li>
<li>&#x8FD9;&#x662F;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x7684;&#x7EC8;&#x6781;&#x76EE;&#x6807;</li>
</ul>
<p>src/utils/request.js</p>
<pre><code class="lang-js">
function parseJSON(response) {
  return response.json();
}

function checkStatus(response) {
  if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {
    return response;
  }

  const error = new Error(response.statusText);
  error.response = response;
  throw error;
}


export default function request(url, options) {
  return fetch(url, options)
    .then(checkStatus)
    .then(parseJSON)
    .then(data=&gt;{data})
    .catch(err =&gt; ({ err }));
}
</code></pre>
<h3 id="t102.2.3 L &#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;">2.2.3 L &#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219; <a href="#t102.2.3 L &#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;"> # </a></h3>
<ul>
<li>Liskov Substitution Principle</li>
<li>&#x5B50;&#x7C7B;&#x80FD;&#x8986;&#x76D6;&#x7236;&#x7C7B;</li>
<li>&#x7236;&#x7C7B;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x5730;&#x65B9;&#x5B50;&#x7C7B;&#x5C31;&#x80FD;&#x51FA;&#x73B0;</li>
<li>JS&#x4F7F;&#x7528;&#x6BD4;&#x8F83;&#x5C11;</li>
</ul>
<h3 id="t112.2.4  I &#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;">2.2.4  I &#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219; <a href="#t112.2.4  I &#x63A5;&#x53E3;&#x9694;&#x79BB;&#x539F;&#x5219;"> # </a></h3>
<ul>
<li>Interface Segregation Principle</li>
<li>&#x4FDD;&#x6301;&#x63A5;&#x53E3;&#x7684;&#x5355;&#x4E00;&#x72EC;&#x7ACB;&#xFF0C;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x80D6;&#x63A5;&#x53E3;</li>
<li>JS&#x4E2D;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#xFF0C;&#x4F7F;&#x7528;&#x8F83;&#x5C11;</li>
<li>&#x7C7B;&#x4F3C;&#x4E8E;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&#xFF0C;&#x66F4;&#x5173;&#x6CE8;&#x63A5;&#x53E3;</li>
</ul>
<h3 id="t122.2.5 D &#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219;">2.2.5 D &#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219; <a href="#t122.2.5 D &#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219;"> # </a></h3>
<ul>
<li>Dependence Inversion Principle</li>
<li>&#x9762;&#x5411;&#x63A5;&#x53E3;&#x7F16;&#x7A0B;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;&#x62BD;&#x8C61;&#x800C;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x5177;&#x4F53;&#x5B9E;&#x73B0;</li>
<li>&#x4F7F;&#x7528;&#x65B9;&#x53EA;&#x5173;&#x6CE8;&#x63A5;&#x53E3;&#x800C;&#x4E0D;&#x5173;&#x6CE8;&#x5177;&#x4F53;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;</li>
<li>JS&#x4E2D;&#x4F7F;&#x7528;&#x8F83;&#x5C11;&#xFF08;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#xFF0C;&#x5F31;&#x7C7B;&#x578B;&#xFF09;</li>
</ul>
<h2 id="t133. 23&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;">3. 23&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; <a href="#t133. 23&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"> # </a></h2>
<h3 id="t143.1 &#x521B;&#x5EFA;&#x578B;">3.1 &#x521B;&#x5EFA;&#x578B; <a href="#t143.1 &#x521B;&#x5EFA;&#x578B;"> # </a></h3>
<ul>
<li>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;(&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x3001;&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x3001;&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;)</li>
<li>&#x5EFA;&#x9020;&#x8005;&#x6A21;&#x5F0F;</li>
<li>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;</li>
<li>&#x539F;&#x578B;&#x6A21;&#x5F0F;</li>
</ul>
<h3 id="t153.2 &#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;">3.2 &#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F; <a href="#t153.2 &#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;"> # </a></h3>
<ul>
<li>&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;</li>
<li>&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;</li>
<li>&#x4EE3;&#x7406;&#x6A21;&#x5F0F;</li>
<li>&#x5916;&#x89C2;&#x6A21;&#x5F0F;</li>
<li>&#x5DE7;&#x63A5;&#x6A21;&#x5F0F;</li>
<li>&#x7EC4;&#x5408;&#x6A21;&#x5F0F;</li>
<li>&#x4EAB;&#x5143;&#x6A21;&#x5F0F;</li>
</ul>
<h3 id="t163.3 &#x884C;&#x4E3A;&#x578B;">3.3 &#x884C;&#x4E3A;&#x578B; <a href="#t163.3 &#x884C;&#x4E3A;&#x578B;"> # </a></h3>
<ul>
<li>&#x7B56;&#x7565;&#x6A21;&#x5F0F;</li>
<li>&#x6A21;&#x7248;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;</li>
<li>&#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;</li>
<li>&#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;</li>
<li>&#x547D;&#x4EE4;&#x6A21;&#x5F0F;</li>
<li>&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;</li>
<li>&#x72B6;&#x6001;&#x6A21;&#x5F0F;</li>
<li>&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;</li>
<li>&#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;</li>
<li>&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;</li>
</ul>
<h2 id="t174. &#x5DE5;&#x5382;&#x6A21;&#x5F0F;">4. &#x5DE5;&#x5382;&#x6A21;&#x5F0F; <a href="#t174. &#x5DE5;&#x5382;&#x6A21;&#x5F0F;"> # </a></h2>
<h3 id="t184.1 &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;">4.1 &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; <a href="#t184.1 &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"> # </a></h3>
<ul>
<li>&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x5BF9;&#x8C61;&#x51B3;&#x5B9A;&#x521B;&#x5EFA;&#x51FA;&#x54EA;&#x4E00;&#x79CD;&#x4EA7;&#x54C1;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;<h4 id="t194.1.1 &#x7C7B;&#x56FE;">4.1.1 &#x7C7B;&#x56FE; <a href="#t194.1.1 &#x7C7B;&#x56FE;"> # </a></h4>
</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192757_d81529bf_1720749.jpeg" alt="simplefactory"></p>
<h4 id="t204.1.2 &#x4EE3;&#x7801;">4.1.2 &#x4EE3;&#x7801; <a href="#t204.1.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Plant{
    constructor(name) {
        this.name=name;
    }
    grow() {
        console.log(&apos;growing~~~~~~&apos;);    
    }
}
class Apple extends Plant{
    constructor(name) {
        super(name);
        this.taste=&apos;&#x751C;&apos;;
    }
}
class Orange extends Plant{
    constructor(name) {
        super(name);
        this.taste=&apos;&#x9178;&apos;;
    }
}
class Factory{
    static create(name) {
        switch (name) {
            case &apos;apple&apos;:
                return new Apple(&apos;&#x82F9;&#x679C;&apos;);
            case &apos;orange&apos;:
                return new Orange(&apos;&#x6A58;&#x5B50;&apos;);
        }
    }
}
let apple=Factory.create(&apos;apple&apos;);
console.log(apple);
let orange=Factory.create(&apos;orange&apos;);
console.log(orange);
</code></pre>
<h4 id="t214.1.3 &#x7ECF;&#x5178;&#x573A;&#x666F;">4.1.3 &#x7ECF;&#x5178;&#x573A;&#x666F; <a href="#t214.1.3 &#x7ECF;&#x5178;&#x573A;&#x666F;"> # </a></h4>
<h5 id="t224.1.3.1 jQuery">4.1.3.1 jQuery <a href="#t224.1.3.1 jQuery"> # </a></h5>
<pre><code class="lang-js">class jQuery{
    constructor(selector){
        let elements = Array.from(document.querySelectorAll(selector));
        let length = elements?elements.length:0;
        for(let i=0;i</code></pre>
<h5 id="t234.1.3.2 React">4.1.3.2 React <a href="#t234.1.3.2 React"> # </a></h5>
<pre><code class="lang-js">class Vnode{
    constructor(tag,attrs,children){
        this.tag = tag;
        this.attrs = attrs;
        this.children = children;
    }
}
React.createElement = function(tag,attrs,children){
  return new Vnode(tag,attr,children);
}
</code></pre>
<h3 id="t244.2 &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;">4.2 &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F; <a href="#t244.2 &#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;"> # </a></h3>
<ul>
<li>&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;Factory Method&#xFF0C;&#x53C8;&#x79F0;&#x591A;&#x6001;&#x6027;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x3002;</li>
<li>&#x5728;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x4E2D;&#xFF0C;&#x6838;&#x5FC3;&#x7684;&#x5DE5;&#x5382;&#x7C7B;&#x4E0D;&#x518D;&#x8D1F;&#x8D23;&#x6240;&#x6709;&#x7684;&#x4EA7;&#x54C1;&#x7684;&#x521B;&#x5EFA;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x5177;&#x4F53;&#x521B;&#x5EFA;&#x7684;&#x5DE5;&#x4F5C;&#x4EA4;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x505A;&#x3002;</li>
</ul>
<h4 id="t254.2.1 &#x7C7B;&#x56FE;">4.2.1 &#x7C7B;&#x56FE; <a href="#t254.2.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192757_4be3dac2_1720749.jpeg" alt="factorymethod"></p>
<h4 id="t264.2.2 &#x4EE3;&#x7801;">4.2.2 &#x4EE3;&#x7801; <a href="#t264.2.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Plant{
    constructor(name) {
        this.name=name;
    }
    grow() {
        console.log(&apos;growing~~~~~~&apos;);    
    }
}
class Apple extends Plant{
    constructor(name) {
        super(name);
        this.taste=&apos;&#x751C;&apos;;
    }
}
class Orange extends Plant{
    constructor(name) {
        super(name);
        this.taste=&apos;&#x9178;&apos;;
    }
}
class AppleFactory{
    create() {
        return new Apple();
    }
}
class OrangeFactory{
    create() {
        return new Orange();
    }
}
const settings={
    &apos;apple&apos;: AppleFactory,
    &apos;orange&apos;:OrangeFactory
}
let apple=new settings[&apos;apple&apos;]().create();
console.log(apple);
let orange=new settings[&apos;orange&apos;]().create();
console.log(orange);
</code></pre>
<h3 id="t274.3 &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;">4.3 &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F; <a href="#t274.3 &#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"> # </a></h3>
<ul>
<li>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x662F;&#x6307;&#x5F53;&#x6709;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x89D2;&#x8272;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x79CD;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</li>
<li>&#x62BD;&#x8C61;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x4F7F;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4E0D;&#x5FC5;&#x6307;&#x5B9A;&#x4EA7;&#x54C1;&#x7684;&#x5177;&#x4F53;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4EA7;&#x54C1;&#x65CF;&#x4E2D;&#x7684;&#x4EA7;&#x54C1;&#x5BF9;&#x8C61;</li>
</ul>
<h4 id="t284.3.1 &#x7C7B;&#x56FE;">4.3.1 &#x7C7B;&#x56FE; <a href="#t284.3.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192757_7dc3c74a_1720749.jpeg" alt="abstractfactory"></p>
<h4 id="t294.3.2 &#x4EE3;&#x7801;">4.3.2 &#x4EE3;&#x7801; <a href="#t294.3.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Button{
    render() {

    }
}
class AppleButton{
    render() {
       console.log(&apos;&#x82F9;&#x679C;&#x6309;&#x94AE;&apos;);
    }
}
class WindowButton{
    render() {
       console.log(&apos;Windows&#x6309;&#x94AE;&apos;);
    }
}

class Icon{
    render() {

    }
}
class AppleIcon{
    render() {
       console.log(&apos;&#x82F9;&#x679C;&#x56FE;&#x6807;&apos;);
    }
}
class WindowIcon{
    render() {
       console.log(&apos;Windows&#x56FE;&#x6807;&apos;);
    }
}
class Factory{
    createButton() {}
    createIcon() {}
}
class AppleFactory{
    createButton() {
        return new AppleButton();
    }
    createIcon() {
        return new AppleButton();
    }
}
class WindowsFactory{
    createButton() {
        return new WindowButton();
    }
    createIcon() {
        return new WindowIcon();
    }
}
const settings={
    &apos;apple&apos;: AppleFactory,
    &apos;windows&apos;:WindowsFactory
}
let appleFactory=new settings[&apos;apple&apos;]();
appleFactory.createButton().render();
appleFactory.createIcon().render();

let windowsFactory=new settings[&apos;windows&apos;]();
windowsFactory.createButton().render();
windowsFactory.createIcon().render();
</code></pre>
<h2 id="t305.&#x5355;&#x4F8B;&#x6A21;&#x5F0F;">5.&#x5355;&#x4F8B;&#x6A21;&#x5F0F; <a href="#t305.&#x5355;&#x4F8B;&#x6A21;&#x5F0F;"> # </a></h2>
<h4 id="t315.1 &#x7C7B;&#x56FE;">5.1 &#x7C7B;&#x56FE; <a href="#t315.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><a href="http://img.zhufengpeixun.cn/singleobject.jpg">singleobject</a></p>
<h4 id="t325.2 &#x4EE3;&#x7801;">5.2 &#x4EE3;&#x7801; <a href="#t325.2 &#x4EE3;&#x7801;"> # </a></h4>
<h5 id="t335.2.1 typescript">5.2.1 typescript <a href="#t335.2.1 typescript"> # </a></h5>
<pre><code class="lang-js">class Window {
    constructor(name) {
        this.name = name;
    }
    static getInstance(name) {
        if (!this.instance) {
            this.instance = new Window(name);
        }
        return this.instance;
    }
}

var w1 = Window.getInstance();
var w2 = Window.getInstance();
console.log(w1 === w2);
</code></pre>
<h5 id="t345.2.2 ES5&#x5355;&#x4F8B;&#x6A21;&#x5F0F;">5.2.2 ES5&#x5355;&#x4F8B;&#x6A21;&#x5F0F; <a href="#t345.2.2 ES5&#x5355;&#x4F8B;&#x6A21;&#x5F0F;"> # </a></h5>
<pre><code class="lang-js">let  Window = function(name) {
    this.name=name;
}
Window.prototype.getName=function () {
    console.log(this.name);
}
Window.getInstance=(function () {
    let window=null;
    return function (name) {
        if (!window)
           window=new Window(name);
        return window;
    }
})();
let window=Window.getInstance(&apos;zfpx&apos;);
window.getName();
</code></pre>
<h5 id="t355.2.3 &#x900F;&#x660E;&#x5355;&#x4F8B;">5.2.3 &#x900F;&#x660E;&#x5355;&#x4F8B; <a href="#t355.2.3 &#x900F;&#x660E;&#x5355;&#x4F8B;"> # </a></h5>
<pre><code class="lang-js">let Window=(function () {
    let window;
    let Window=function (name) {
        if (window) {
            return window;
        } else {
            this.name=name;
            return (window=this);
        }
    }
    Window.prototype.getName=function () {
        console.log(this.name);
    }
    return Window;
})();

let window1=new Window(&apos;zfpx&apos;);
let window2=new Window(&apos;zfpx&apos;);
window1.getName();
console.log(window1 === window2)
</code></pre>
<h5 id="t365.2.4 &#x5355;&#x4F8B;&#x4E0E;&#x6784;&#x5EFA;&#x5206;&#x79BB;">5.2.4 &#x5355;&#x4F8B;&#x4E0E;&#x6784;&#x5EFA;&#x5206;&#x79BB; <a href="#t365.2.4 &#x5355;&#x4F8B;&#x4E0E;&#x6784;&#x5EFA;&#x5206;&#x79BB;"> # </a></h5>
<pre><code class="lang-js">function Window(name) {
    this.name=name;
}
Window.prototype.getName=function () {
    console.log(this.name);
}

let createSingle=(function () {
    let instance;
    return function (name) {
        if (!instance) {
            instance=new Window();
        }
        return instance;
    }
})();

let window1=new createSingle(&apos;zfpx&apos;);
let window2=new createSingle(&apos;zfpx&apos;);
window1.getName();
console.log(window1 === window2)
</code></pre>
<h5 id="t375.2.5 &#x5C01;&#x88C5;&#x53D8;&#x5316;">5.2.5 &#x5C01;&#x88C5;&#x53D8;&#x5316; <a href="#t375.2.5 &#x5C01;&#x88C5;&#x53D8;&#x5316;"> # </a></h5>
<pre><code class="lang-js">function Window(name) {
    this.name=name;
}
Window.prototype.getName=function () {
    console.log(this.name);
}

let createSingle=function (Constructor) {
    let instance;
    return function () {
        if (!instance) {
            Constructor.apply(this,arguments);
            Object.setPrototypeOf(this,Constructor.prototype)
            instance=this;
        }
        return instance;
    }
};
let CreateWindow=createSingle(Window);
let window1=new CreateWindow(&apos;zfpx&apos;);
let window2=new CreateWindow(&apos;zfpx&apos;);
window1.getName();
console.log(window1 === window2)
</code></pre>
<h5 id="t385.2.6 &#x547D;&#x540D;&#x7A7A;&#x95F4;">5.2.6 &#x547D;&#x540D;&#x7A7A;&#x95F4; <a href="#t385.2.6 &#x547D;&#x540D;&#x7A7A;&#x95F4;"> # </a></h5>
<ul>
<li>&#x7528;&#x6237;&#x7F16;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x4E0E;&#x5185;&#x90E8;&#x7684;&#x7C7B;/&#x51FD;&#x6570;/&#x5E38;&#x91CF;&#x6216;&#x7B2C;&#x4E09;&#x65B9;&#x7C7B;/&#x51FD;&#x6570;/&#x5E38;&#x91CF;&#x4E4B;&#x95F4;&#x7684;&#x540D;&#x5B57;&#x51B2;&#x7A81;&#x3002;</li>
<li>&#x4E3A;&#x5F88;&#x957F;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x540D;&#x79F0;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#xFF08;&#x6216;&#x7B80;&#x77ED;&#xFF09;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x63D0;&#x9AD8;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x3002;
jQuery<pre><code class="lang-js">let $ = {
  ajax(){},
  get(){},
  post(){}
}
</code></pre>
</li>
</ul>
<pre><code class="lang-js">let utils={};
utils.def=function (namespace,fn) {
    let namespaces=namespace.split(&apos;.&apos;);
    let fnName=namespaces.pop();
    let current=utils;
    for (let i=0;i</code></pre>
<h4 id="t395.3 &#x573A;&#x666F;">5.3 &#x573A;&#x666F; <a href="#t395.3 &#x573A;&#x666F;"> # </a></h4>
<h5 id="t405.3.1 jQuery">5.3.1 jQuery <a href="#t405.3.1 jQuery"> # </a></h5>
<pre><code class="lang-js">if(window.jQuery!=null){
  return window.jQuery;
}else{
    //init~~~~~~~
}
</code></pre>
<h5 id="t415.3.2 &#x6A21;&#x6001;&#x7A97;&#x53E3;">5.3.2 &#x6A21;&#x6001;&#x7A97;&#x53E3; <a href="#t415.3.2 &#x6A21;&#x6001;&#x7A97;&#x53E3;"> # </a></h5>
<pre><code class="lang-js">class Login{
    constructor() {
        this.element=document.createElement(&apos;div&apos;);
        this.element.innerHTML=(
            `
            &#x7528;&#x6237;&#x540D; <input type="text">
            <button>&#x767B;&#x5F55;</button>
            `
        );
        this.element.style.cssText=&apos;width: 100px; height: 100px; position: absolute; left: 50%; top: 50%; display: block;&apos;;
        /* this.element.style.width=&apos;100px&apos;;
        this.element.style.height=&apos;100px&apos;;
        this.element.style.position=&apos;absolute&apos;;
        this.element.style.left=&apos;50%&apos;;
        this.element.style.top=&apos;50%&apos;; */
        document.body.appendChild(this.element);
    }
    show() {
        this.element.style.display=&apos;block&apos;;
    }
    hide() {
        this.element.style.display=&apos;none&apos;;
    }
}
Login.getInstance=(function () {
    let instance;
    return function () {
        if (!instance) {
            instance=new Login();
        }
        return instance;
    }
})();

document.getElementById(&apos;showBtn&apos;).addEventListener(&apos;click&apos;,function (event) {
    Login.getInstance().show();
});
document.getElementById(&apos;hideBtn&apos;).addEventListener(&apos;click&apos;,function (event) {
    Login.getInstance().hide();
});
</code></pre>
<h5 id="t425.3.3 store">5.3.3 store <a href="#t425.3.3 store"> # </a></h5>
<pre><code class="lang-js">function createStore(reducer) {
    let state;
    let listeners=[];
    function getState() {
        return state;
    }
    function dispatch(action) {
        state=reducer(state,action);
        listeners.forEach(l=&gt;l());
    }
    function subscribe(listener) {
        listeners.push(listener);
        return () =&gt; {
            listeners = listeners.filter(item =&gt; item!=listener);
            console.log(listeners);
        }
    }
    dispatch({});
    return {
        getState,
        dispatch,
        subscribe
    }
}
let store = createStore();
</code></pre>
<h5 id="t435.3.4 &#x7F13;&#x5B58;">5.3.4 &#x7F13;&#x5B58; <a href="#t435.3.4 &#x7F13;&#x5B58;"> # </a></h5>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let fs=require(&apos;fs&apos;);
let cache={};
let app=express();
app.get(&apos;/user/:id&apos;,function (req,res) {
    let id=req.params.id;
    let user=cache.get(id);
    if (user) {
        res.json(user);
    } else {
        fs.readFile(`./users/${id}.json`,&apos;utf8&apos;,function (err,data) {
            let user=JSON.parse(data);
            cache.put(id,user);
            res.json(user);
        });
    }
});

app.get(&apos;/user&apos;,function (req,res) {
    let user=req.query;
    fs.writeFile(`./users/${user.id}.json`,JSON.stringify(user),(err) =&gt; {
        console.log(err);
        res.json({code: 0,data: &apos;&#x5199;&#x5165;&#x6210;&#x529F;&apos;});
    });
});
app.listen(3000);
</code></pre>
<h5 id="t445.3.5 LRU&#x7F13;&#x5B58;">5.3.5 LRU&#x7F13;&#x5B58; <a href="#t445.3.5 LRU&#x7F13;&#x5B58;"> # </a></h5>
<ul>
<li><a href="https://leetcode.com/problems/lru-cache/">lru-cache</a></li>
<li>&#x4E3A;LRU Cache&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#xFF1A;<ul>
<li>1&#xFF09;get(key)&#xFF1A;&#x5982;&#x679C;key&#x5728;cache&#x4E2D;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;value&#x503C;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;-1</li>
<li>2&#xFF09;set(key,value):&#x5982;&#x679C;key&#x4E0D;&#x5728;cache&#x4E2D;&#xFF0C;&#x5219;&#x5C06;&#x8BE5;(key,value)&#x63D2;&#x5165;cache&#x4E2D;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;cache&#x5DF2;&#x6EE1;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x628A;&#x6700;&#x8FD1;&#x6700;&#x4E45;&#x672A;&#x4F7F;&#x7528;&#x7684;&#x5143;&#x7D20;&#x4ECE;cache&#x4E2D;&#x5220;&#x9664;&#xFF09;&#xFF1B;&#x5982;&#x679C;key&#x5728;cache&#x4E2D;&#xFF0C;&#x5219;&#x91CD;&#x7F6E;value&#x7684;&#x503C;&#x3002;</li>
</ul>
</li>
</ul>
<pre><code class="lang-js">/**
- &#x7528;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9879;&#x6807;&#x8BB0;&#x4E00;&#x4E2A;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;&#x6233;
- &#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x65B0;&#x6570;&#x636E;&#x9879;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x628A;&#x6570;&#x7EC4;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x6570;&#x636E;&#x9879;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x81EA;&#x589E;,&#x5E76;&#x5C06;&#x65B0;&#x6570;&#x636E;&#x9879;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x7F6E;&#x4E3A;0&#x5E76;&#x63D2;&#x5165;&#x5230;&#x6570;&#x7EC4;&#x4E2D;
- &#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x9879;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x6570;&#x636E;&#x9879;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x7F6E;&#x4E3A;0&#x3002;
- &#x5F53;&#x6570;&#x7EC4;&#x7A7A;&#x95F4;&#x5DF2;&#x6EE1;&#x65F6;&#xFF0C;&#x5C06;&#x65F6;&#x95F4;&#x6233;&#x6700;&#x5927;&#x7684;&#x6570;&#x636E;&#x9879;&#x6DD8;&#x6C70;&#x3002;
*/
class LRUCache{
    constructor(capacity) {
        this.capacity=capacity;
        this.members=[];
    }
    put(key,value) {
        let found=false;
        let oldestIndex=-1;
        let oldestAge=-1;
        for (let i=0;i<this.members.length;i++){ let="" member="this.members[i];" if="" (member.age=""> oldestAge) {
                oldestIndex=i;
                oldestAge=member.age;
            }
            if (member.key==key) {
                this.members[i]={key,value,age: 0};
                found=true;
            } else {
                member++;
            }
        }
        if (!found) {
            if (this.members.length&gt;=this.capacity) {
                this.members.splice(oldestIndex,1);
            }
            this.members[this.members.length]={
                key,
                value,
                age:0
            }
        }
    }
    get(key) {
        for (let i=0;i</this.members.length;i++){></code></pre>
<h2 id="t456. &#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;">6. &#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F; <a href="#t456. &#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x65E7;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x4F7F;&#x7528;&#x8005;&#x4E0D;&#x517C;&#x5BB9;</li>
<li>&#x4E2D;&#x95F4;&#x52A0;&#x4E00;&#x4E2A;&#x9002;&#x914D;&#x5668;&#x8F6C;&#x6362;&#x63A5;&#x53E3;</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192757_60d9b4d0_1720749.jpeg" alt="adaptor">
<img src="https://images.gitee.com/uploads/images/2019/0109/192757_4636e2ed_1720749.jpeg" alt="hdmi2vga">
<img src="https://images.gitee.com/uploads/images/2019/0109/192757_6782d834_1720749.jpeg" alt="usbadaptor"></p>
<h4 id="t466.1 &#x7C7B;&#x56FE;">6.1 &#x7C7B;&#x56FE; <a href="#t466.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_7cb9542a_1720749.jpeg" alt="adapter"></p>
<h4 id="t476.2 &#x4EE3;&#x7801;">6.2 &#x4EE3;&#x7801; <a href="#t476.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Power{
    charge() {
        return &apos;220V&apos;;
    }
}

class Adapter{
    constructor() {
        this.power=new Power();
    }
    charge() {
        let power=this.power.charge();
        return `${power} =&gt; 12V`;
    }
}

class Client{
    constructor() {
        this.adapter=new Adapter();
    }
    use() {
        console.log(this.adapter.charge());
    }
}
new Client().use();

</code></pre>
<h4 id="t486.3 &#x573A;&#x666F;">6.3 &#x573A;&#x666F; <a href="#t486.3 &#x573A;&#x666F;"> # </a></h4>
<h5 id="t496.3.1 &#x63D2;&#x4EF6;&#x9002;&#x914D;">6.3.1 &#x63D2;&#x4EF6;&#x9002;&#x914D; <a href="#t496.3.1 &#x63D2;&#x4EF6;&#x9002;&#x914D;"> # </a></h5>
<ul>
<li>&#x9002;&#x914D;&#x53C2;&#x6570;</li>
<li>&#x9002;&#x914D;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x6570;&#x636E;</li>
</ul>
<pre><code class="lang-js">function ajax(options){
  let _default = {
      method:&apos;GET&apos;,
      dataType:&apos;json&apos;
  }
  for(let attr in options){
    _default[attr] = options[attr]||_default[attr];
  }
}

function get(url){
  let options = {method:&apos;GET&apos;,url};
  ajax(options);
}
</code></pre>
<h5 id="t506.3.1 promisify">6.3.1 promisify <a href="#t506.3.1 promisify"> # </a></h5>
<pre><code class="lang-js">let fs=require(&apos;fs&apos;);
function promisify(readFile) {
    return function (filename,encoding) {
        return new Promise(function (resolve,reject) {
            readFile(filename,encoding,function (err,data) {
                if (err)
                    reject(err);
                else
                    resolve(data);
            })
        });
    }
}
let readFile=promisify(fs.readFile);
readFile(&apos;./1.txt&apos;,&apos;utf8&apos;).then(data =&gt; console.log(data));
</code></pre>
<h5 id="t516.3.2 jquery">6.3.2 jquery <a href="#t516.3.2 jquery"> # </a></h5>
<pre><code class="lang-js">let $=require(&apos;jquery&apos;);
$.ajax({
    url,
    type: &apos;POST&apos;,
    dataType: &apos;json&apos;,
    data:{id:1}
});

let $={
    ajax(options) {
        fetch(options.url,{
            method: options.type,
            body:JSON.stringify(options.data)
        })
    }
}
</code></pre>
<h5 id="t526.3.3 computed">6.3.3 computed <a href="#t526.3.3 computed"> # </a></h5>
<pre><code class="lang-js">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcss.com/vue/2.5.17/vue.js"></script>
    <title>vue</title>


<div id="root">
<p>{{name}}</p>
<p>{{upperName}}</p>
</div>    
<script>
let vm=new Vue({
    el: '#root',
    data: {
        name:'zfpx'
    },
    computed: {
        upperName() {
            return this.name.toUpperCase();
        }
    }
});
</script>


</code></pre>
<h2 id="t537.&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;">7.&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F; <a href="#t537.&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x5176;&#x539F;&#x6709;&#x7684;&#x7ED3;&#x6784;&#x548C;&#x529F;&#x80FD;&#x4E3A;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x65B0;&#x529F;&#x80FD;</li>
<li>&#x88C5;&#x9970;&#x6BD4;&#x7EE7;&#x627F;&#x66F4;&#x52A0;&#x7075;&#x6D3B;</li>
</ul>
<h4 id="t547.1 &#x7C7B;&#x56FE;">7.1 &#x7C7B;&#x56FE; <a href="#t547.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_4ef3d187_1720749.png" alt="decorator"></p>
<h4 id="t557.2 &#x4EE3;&#x7801;">7.2 &#x4EE3;&#x7801; <a href="#t557.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Duck{
    eat(food) {
        console.log(&apos;&#x5403;${food}&apos;);
    }
}

class TangDuck{
    constructor() {
        this.duck=new Duck();
    }
    eat() {
        this.duck.eat();
        console.log(&apos;&#x8C22;&#x8C22;&apos;);
    }
}
</code></pre>
<h4 id="t567.3 &#x5305;&#x88C5;&#x5668;">7.3 &#x5305;&#x88C5;&#x5668; <a href="#t567.3 &#x5305;&#x88C5;&#x5668;"> # </a></h4>
<p>&#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;&#x662F;&#x5C06;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5D4C;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E4B;&#x4E2D;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x76F8;&#x5F53;&#x4E8E;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x88AB;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5305;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x5F62;&#x6210;&#x4E00;&#x6761;&#x5305;&#x88C5;&#x94FE;&#x3002;&#x8BF7;&#x6C42;&#x968F;&#x7740;&#x8FD9;&#x6761;&#x94FE;&#x6761;&#x4F9D;&#x6B21;&#x4F20;&#x9012;&#x5230;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x673A;&#x4F1A;&#x3002;</p>
<pre><code class="lang-js">class Coffee{
  make(water){
    return `${water}+&#x5496;&#x5561;`;
  }
  cost(){
      return 10;
  }
}

class MilkCoffee{
    constructor(parent){
        this.parent = parent;
    }
    make(water){
        return `${this.parent.make(water)}+&#x725B;&#x5976;`;
    }
    cost(){
        return this.parent.cost()+1;
    }
}

class SugerCoffee{
    constructor(parent){
        this.parent = parent;
    }
    make(water){
        return `${this.parent.make(water)}+&#x7CD6;`;
    }
    cost(){
        return this.parent.cost()+2;
    }
}
let coffee = new Coffee();
let milkCoffee = new MilkCoffee(coffee);
let milksugerCoffee = new SugerCoffee(milkCoffee);
console.log(milksugerCoffee.make(&apos;&#x6C34;&apos;)+&apos;=&apos;+milksugerCoffee.cost());
</code></pre>
<h4 id="t577.4 AOP">7.4 AOP <a href="#t577.4 AOP"> # </a></h4>
<ul>
<li>&#x5728;&#x8F6F;&#x4EF6;&#x4E1A;&#xFF0C;AOP&#x4E3A;Aspect Oriented Programming&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x610F;&#x4E3A;&#xFF1A;&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B;</li>
<li>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9884;&#x7F16;&#x8BD1;&#x65B9;&#x5F0F;&#x548C;&#x8FD0;&#x884C;&#x671F;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5B9E;&#x73B0;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7ED9;&#x7A0B;&#x5E8F;&#x52A8;&#x6001;&#x7EDF;&#x4E00;&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x7684;&#x4E00;&#x79CD;&#x6280;&#x672F;</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_281046e5_1720749.jpeg" alt="springaop">
<img src="https://images.gitee.com/uploads/images/2019/0109/192758_c7aedff9_1720749.jpeg" alt="businessaop"></p>
<pre><code class="lang-js">Function.prototype.before = function(beforeFn){
    let _this = this;
    return function(){
        beforeFn.apply(this,arguments);
        return _this.apply(this,arguments);
    }
}
Function.prototype.after = function(afterFn){
    let _this = this;
    return function(){
         _this.apply(this,arguments);
        afterFn.apply(this,arguments);
    }
}
function buy(money,goods){
  console.log(`&#x82B1;${money}&#x4E70;${goods}`);
}
buy = buy.before(function(){
    console.log(`&#x5411;&#x5AB3;&#x5987;&#x7533;&#x8BF7;1&#x5757;&#x94B1;.`);
});
buy = buy.after(function(){
    console.log(`&#x628A;&#x5269;&#x4E0B;&#x7684;2&#x6BDB;&#x94B1;&#x8FD8;&#x7ED9;&#x5AB3;&#x5987;.`);
});
buy(.8,&apos;&#x76D0;&apos;);
</code></pre>
<h4 id="t587.3 &#x573A;&#x666F;">7.3 &#x573A;&#x666F; <a href="#t587.3 &#x573A;&#x666F;"> # </a></h4>
<h5 id="t597.3.1 &#x57CB;&#x70B9;">7.3.1 &#x57CB;&#x70B9; <a href="#t597.3.1 &#x57CB;&#x70B9;"> # </a></h5>
<p>&#x57CB;&#x70B9;&#x5206;&#x6790;&#xFF0C;&#x662F;&#x7F51;&#x7AD9;&#x5206;&#x6790;&#x7684;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x65B9;&#x6CD5;</p>
<ul>
<li>&#x57CB;&#x70B9;&#x65B9;&#x5F0F;<ul>
<li>&#x670D;&#x52A1;&#x5668;&#x5C42;&#x9762;&#x7684;&#xFF1A;&#x4E3B;&#x8981;&#x662F;&#x901A;&#x8FC7;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x5206;&#x6790;</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x5C42;&#x9762;&#x7684;&#xFF1A;&#x901A;&#x8FC7;&#x57CB;&#x70B9;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x5206;&#x6790;<ul>
<li>&#x4EE3;&#x7801;&#x57CB;&#x70B9;</li>
<li>&#x81EA;&#x52A8;&#x5316;&#x57CB;&#x70B9;&#xFF1A;&#x901A;&#x8FC7;AOP&#x601D;&#x60F3;&#x5BF9;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;</li>
<li>&#x7B2C;&#x4E09;&#x65B9;&#x5B9E;&#x73B0; &#x767E;&#x5EA6;&#x3001;&#x53CB;&#x76DF;&#x7B49;...</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="lang-html">
    <button data-name="&#x897F;&#x74DC;" id="watermelon">&#x897F;&#x74DC;</button>
    <button data-name="&#x82F9;&#x679C;" id="apple">&#x82F9;&#x679C;</button>
<script>
 let watermelon = document.getElementById('watermelon');
 let apple = document.getElementById('apple');
 Function.prototype.after = function(afterFn){
    let _this = this;
    return function(){
         _this.apply(this,arguments);
        afterFn.apply(this,arguments);
    }
}

 function click(){
     console.log('点击'+this.dataset.name);
 }
 click = click.after(function(){
     let img = new Image();
     img.src = `http://localhost:3000?name=${this.dataset.name}`;
 });
 Array.from(document.querySelectorAll('button')).forEach(function(button){
    button.addEventListener('click',click);
 });
</script></code></pre>
<pre><code class="lang-js">let express = require(&apos;express&apos;);
let app = express();
app.get(&apos;/&apos;,function(req,res){
   console.log(&apos;name&apos;,req.query.name);
   res.end(&apos;ok&apos;);
});
app.listen(3000);
</code></pre>
<h5 id="t607.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C;">7.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C; <a href="#t607.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C;"> # </a></h5>
<pre><code class="lang-html">
    <form action="">
        &#x7528;&#x6237;&#x540D;<input type="text" name="username" id="username">
        &#x5BC6;&#x7801;<input type="text" name="password" id="password">
        <button id="submit-btn">&#x63D0;&#x4EA4;</button>
    </form>
    <script>
         Function.prototype.before = function(beforeFn){
            let _this = this;
            return function(){
                let ret = beforeFn.apply(this,arguments);
                if(ret)
                _this.apply(this,arguments);
            }
        }
      function submit(){
          alert('提交表单');
      }
      submit= submit.before(function(){
          let username = document.getElementById('username').value;
          if(username.length<6){
              return alert('用户名不能少于6位');
          }
          return true;
      });
      submit = submit.before(function(){
          let username = document.getElementById('username').value;
          if(!username){
              return alert('用户名不能为空');
          }
          return true;
      });


      document.getElementById('submit-btn').addEventListener('click',submit);
</script></code></pre>
<h5 id="t617.3.3 &#x9632;CSRF&#x653B;&#x51FB;">7.3.3 &#x9632;CSRF&#x653B;&#x51FB; <a href="#t617.3.3 &#x9632;CSRF&#x653B;&#x51FB;"> # </a></h5>
<ul>
<li>CSRF&#x901A;&#x8FC7;&#x4F2A;&#x88C5;&#x6765;&#x81EA;&#x53D7;&#x4FE1;&#x4EFB;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x6765;&#x5229;&#x7528;&#x53D7;&#x4FE1;&#x4EFB;&#x7684;&#x7F51;&#x7AD9;</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_c0455bf9_1720749.jpeg" alt="csrf.jpg"></p>
<h6 id="t627.3.3.1 &#x53D7;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9;">7.3.3.1 &#x53D7;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9; <a href="#t627.3.3.1 &#x53D7;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9;"> # </a></h6>
<pre><code class="lang-js">let express = require(&apos;express&apos;);
let bodyParser = require(&apos;body-parser&apos;);
let session = require(&apos;express-session&apos;);
let path = require(&apos;path&apos;);
let app = express();
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({extended:true}));
app.use(session({
    resave:true,
    secret:&apos;zfpx&apos;,
    saveUninitialized:true
}));
app.set(&apos;view engine&apos;,&apos;ejs&apos;);
app.set(&apos;views&apos;,path.resolve(&apos;views&apos;));
app.engine(&apos;html&apos;,require(&apos;ejs&apos;).__express);
let users = {};
app.get(&apos;/login&apos;,function(req,res){
  res.render(&apos;login.html&apos;);
});
app.post(&apos;/login&apos;,function(req,res){
    let body = req.body;
    users[body.username] = 100;
    req.session.username = body.username;
    res.json({code:0,data:&apos;&#x767B;&#x5F55;&#x6210;&#x529F;&apos;});
});
app.get(&apos;/money&apos;,function(req,res){
   res.send(users[req.session.username]+&quot;&#x5143;&quot;);
});
app.get(&apos;/withdraw&apos;,function(req,res){
    let token = req.session.token =  Math.random()+&apos;&apos;;
    res.cookie(&apos;token&apos;,token);
    res.render(&apos;withdraw.html&apos;);
});
app.post(&apos;/withdraw&apos;,function(req,res){
    //users[req.session.username] -= (req.body.money?Number(req.body.money):10);
    //res.json({code:0,data:&apos;&#x53D6;&#x6B3E;&#x6210;&#x529F;&apos;});
    console.log(req.body.token, req.session.token)
      if(req.body.token== req.session.token){
        users[req.session.username] -= (req.body.money?parseInt(req.body.money):10);
        res.json({code:0,data:&apos;&#x53D6;&#x6B3E;&#x6210;&#x529F;&apos;});
      }else{
        res.json({code:1,data:&apos;&#x53D6;&#x6B3E;&#x5931;&#x8D25;&apos;});
      } 
});
app.listen(3000);
</code></pre>
<h6 id="t637.3.3.2 login">7.3.3.2 login <a href="#t637.3.3.2 login"> # </a></h6>
<pre><code class="lang-html">
    <a href="http://localhost:3000/money">&#x67E5;&#x770B;&#x4F59;&#x989D;</a>
    <a href="http://localhost:3000/withdraw">&#x53D6;&#x6B3E;</a>
    &#x7528;&#x6237;&#x540D; <input type="text" name="username" id="username">
    <button onclick="login()">&#x63D0;&#x4EA4;</button>
    <script>
        function ajax(method,url,data){
            let xhr = new XMLHttpRequest;
            xhr.open(method,url,true);
            xhr.setRequestHeader('Content-Type','application/json');
            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4 && xhr.status == 200){
                    console.log(xhr.responseText);
                }
            }
            xhr.send(JSON.stringify(data));
        }
        function login(){
            let username = document.getElementById('username').value;
            ajax('POST','/login',{username});
        }
    </script>

</code></pre>
<h6 id="t647.3.3.3 &#x53D6;&#x6B3E;">7.3.3.3 &#x53D6;&#x6B3E; <a href="#t647.3.3.3 &#x53D6;&#x6B3E;"> # </a></h6>
<pre><code class="lang-html">
    &#x91D1;&#x989D; <input type="text" name="money" id="money">
    <button onclick="login()">&#x63D0;&#x4EA4;</button>
    <script>
        Function.prototype.before = function(beforeFn){
            let _this = this;
            return function(){
                beforeFn.apply(this,arguments);
                return _this.apply(this,arguments);
            }
        }

        function ajax(method,url,data){
            let xhr = new XMLHttpRequest;
            xhr.open(method,url,true);
            xhr.setRequestHeader('Content-Type','application/json');
            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4 && xhr.status == 200){
                    console.log(xhr.responseText);
                }
            }
            xhr.send(JSON.stringify(data));
        }
        ajax = ajax.before(function(method,url,data){
            let result = document.cookie.match(/(^|; )token=(.+?)($|; )/);
            console.log(result,result);
            data.token = result[2];
        });
        function login(){
            let money = document.getElementById('money').value;
            ajax('POST','/withdraw',{money});
        }
    </script>

</code></pre>
<h6 id="t657.3.3.4 &#x975E;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9;">7.3.3.4 &#x975E;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9; <a href="#t657.3.3.4 &#x975E;&#x4FE1;&#x4EFB;&#x7F51;&#x7AD9;"> # </a></h6>
<pre><code class="lang-js">let express = require(&apos;express&apos;);
let path = require(&apos;path&apos;);
let app = express();
app.set(&apos;view engine&apos;,&apos;ejs&apos;);
app.set(&apos;views&apos;,path.resolve(&apos;views&apos;));
app.engine(&apos;html&apos;,require(&apos;ejs&apos;).__express);

app.get(&apos;/&apos;,function(req,res){
  res.render(&apos;csrf.html&apos;);
});
app.get(&apos;/form&apos;,function(req,res){
  res.render(&apos;form.html&apos;);
});

app.listen(4000);
</code></pre>
<h6 id="t667.3.3.5 csrf">7.3.3.5 csrf <a href="#t667.3.3.5 csrf"> # </a></h6>
<pre><code class="lang-html">
    <img src="https://www.baidu.com/img/bd_logo1.png">
    <iframe src="/form" frameborder="0" style="width:0;height:0"></iframe>

</code></pre>
<h6 id="t677.3.3.6 form">7.3.3.6 form <a href="#t677.3.3.6 form"> # </a></h6>
<pre><code class="lang-html">
        <form id="myform" action="http://localhost:3000/withdraw" method="POST">
            <input type="text" name="money" id="money" value="10">
        </form>
        <script>
                setTimeout(function(){
                   document.getElementById('myform').submit();
                },100);
            </script>

</code></pre>
<h5 id="t687.3.4 &#x652F;&#x6301;decorators">7.3.4 &#x652F;&#x6301;decorators <a href="#t687.3.4 &#x652F;&#x6301;decorators"> # </a></h5>
<ul>
<li><a href="https://babeljs.io/docs/en/babel-plugin-proposal-decorators">babel-plugin-proposal-decorators</a><pre><code class="lang-js">&quot;plugins&quot;: [
  [&quot;@babel/plugin-proposal-decorators&quot;, { &quot;legacy&quot;: true }],
  [&quot;@babel/plugin-proposal-class-properties&quot;, { &quot;loose&quot; : true }]
]
</code></pre>
<h5 id="t697.3.5 &#x7C7B;decorators">7.3.5 &#x7C7B;decorators <a href="#t697.3.5 &#x7C7B;decorators"> # </a></h5>
<code>`</code>js
@testable
class Person{</li>
</ul>
<p>}
function testable(target) {
    target.testable=true;
}
console.log(Person.testable);</p>
<pre><code>
```js
let Hooks={
    componentWillMount() {
        console.log(&apos;componentWillMount&apos;);
    },
    componentDidMount() {
        console.log(&apos;componentDidMount&apos;);
    }
}
function mixins(...others) {
    return function (target) {
        Object.assign(target.prototype,...others);
    }
}
@mixins(Hooks)
class Component{

}
let c=new Component();
console.log(c);
</code></pre><h5 id="t707.3.6 &#x65B9;&#x6CD5;decorators">7.3.6 &#x65B9;&#x6CD5;decorators <a href="#t707.3.6 &#x65B9;&#x6CD5;decorators"> # </a></h5>
<ul>
<li><a href="https://www.npmjs.com/package/core-decorators">core-decorators</a></li>
</ul>
<pre><code class="lang-js">function readonly(target,attr,descriptor) {
    descriptor.writable=false;
}
class Circle{
    @readonly
    PI=3.14;
}
let c=new Circle();
c.PI=100;
console.log(c.PI)
</code></pre>
<pre><code class="lang-js">function logger(target,attr,descriptor) {
    let oldVal=descriptor.value;
    descriptor.value=function (...args) {
        console.log(`&#x53C2;&#x6570;:${args}`);
        return oldVal(...args);
    }
}
class Caculator{
    @logger
    sum(a,b) {
        return a+b;
    }
}
let c=new Caculator();
let ret=c.sum(1,2);
console.log(ret);
</code></pre>
<pre><code class="lang-js">let {readonly}=require(&apos;core-decorators&apos;);
function deprecate(msg,options) {
    return function (target,attr,descriptor) {
        //DEPRECATION Caculator#sum: This function will be removed in future versions.
        let oldVal=descriptor.value;
        descriptor.value=function (...args) {
            let message=msg? msg:`DEPRECATION ${target.constructor.name}#${attr}: This function will be removed in future versions.`;
            let see=options&amp;&amp;options.url? `see ${options.url}`:``;
            console.warn(message+&apos;\r\n&apos;+see);
            return oldVal(...args);
        }
    }
}
class Caculator{
    @readonly PI=3.14;
    @deprecate
    sum(a,b) {
        return a+b;
    }
    @deprecate(&apos;stop using this&apos;)
    minus(a,b) {
        return a-b;
    }
    @deprecate(&apos;stop using this&apos;,{url:&apos;http://www.baidu.com&apos;})
    multiply(a,b) {
        return a*b;
    }
}
let c=new Caculator();
c.PI=5;
console.log(c.PI);
let ret=c.sum(1,2);
console.log(ret);
let ret2=c.minus(2,1);
console.log(ret2);
let ret3=c.multiply(2,1);
console.log(ret3);
</code></pre>
<h2 id="t718.&#x4EE3;&#x7406;&#x6A21;&#x5F0F;">8.&#x4EE3;&#x7406;&#x6A21;&#x5F0F; <a href="#t718.&#x4EE3;&#x7406;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x7531;&#x4E8E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x5728;&#x8FD9;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x8D77;&#x5230;&#x4E2D;&#x4ECB;&#x4F5C;&#x7528;</li>
<li>&#x53EF;&#x4EE5;&#x5728;&#x4F7F;&#x7528;&#x8005;&#x548C;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x52A0;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;,&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x63A7;&#x5236;</li>
</ul>
<h4 id="t728.1 &#x7C7B;&#x56FE;">8.1 &#x7C7B;&#x56FE; <a href="#t728.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_e26dc7bc_1720749.jpeg" alt="proxy"></p>
<h4 id="t738.2 &#x4EE3;&#x7801;">8.2 &#x4EE3;&#x7801; <a href="#t738.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Goole{
    constructor() {    }
    get() {
        return &apos;google&apos;;
    }
}

class Proxy {
    constructor() {
        this.google=new Goole();
    }
    get() {
        return this.google.get();
    }
}
let proxy = new Proxy();
let ret = proxy.get();
console.log(ret);
</code></pre>
<h4 id="t748.3 &#x573A;&#x666F;">8.3 &#x573A;&#x666F; <a href="#t748.3 &#x573A;&#x666F;"> # </a></h4>
<h5 id="t758.3.1 &#x4E8B;&#x4EF6;&#x59D4;&#x6258;">8.3.1 &#x4E8B;&#x4EF6;&#x59D4;&#x6258; <a href="#t758.3.1 &#x4E8B;&#x4EF6;&#x59D4;&#x6258;"> # </a></h5>
<ul>
<li>&#x4E8B;&#x4EF6;&#x6355;&#x83B7;&#x6307;&#x7684;&#x662F;&#x4ECE;document&#x5230;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x7684;&#x90A3;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x5373;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x7684;&#x53BB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;</li>
<li>&#x4E8B;&#x4EF6;&#x5192;&#x6CE1;&#x662F;&#x81EA;&#x4E0B;&#x800C;&#x4E0A;&#x7684;&#x53BB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;</li>
<li>&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x65B9;&#x6CD5;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x987A;&#x5E8F;&#x662F;&#x5426;&#x4E3A;&#x4E8B;&#x4EF6;&#x6355;&#x83B7;&#x3002;true&#x4E3A;&#x4E8B;&#x4EF6;&#x6355;&#x83B7;&#xFF1B;false&#x4E3A;&#x4E8B;&#x4EF6;&#x5192;&#x6CE1;,&#x9ED8;&#x8BA4;false&#x3002;</li>
</ul>
<pre><code class="lang-js">
    <ul id="list">
        <li>1</li>
        <li>2</li>
        <li>3</li>
    </ul>
<script>
  let list = document.querySelector('#list');
  list.addEventListener('click',event=>{
       alert(event.target.innerHTML);
  });     
</script>    

</code></pre>
<h5 id="t768.3.2 &#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;">8.3.2 &#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D; <a href="#t768.3.2 &#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;"> # </a></h5>
<h6 id="t778.3.2.1 app.js">8.3.2.1 app.js <a href="#t778.3.2.1 app.js"> # </a></h6>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let path=require(&apos;path&apos;)
let app=express();
app.get(&apos;/images/loading.gif&apos;,function (req,res) {
    res.sendFile(path.join(__dirname,req.path));
});
app.get(&apos;/images/:name&apos;,function (req,res) {
    setTimeout(() =&gt; {
        res.sendFile(path.join(__dirname,req.path));
    }, 2000);
});
app.get(&apos;/&apos;,function (req,res) {
    res.sendFile(path.resolve(&apos;index.html&apos;));
});
app.listen(8080);
</code></pre>
<h6 id="t788.3.2.2 index.html">8.3.2.2 index.html <a href="#t788.3.2.2 index.html"> # </a></h6>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            padding:0;
            margin:0;
        }
        ul,li{
            list-style:none;
        }
        #background{
            position:absolute;
            border:1px solid green;
            right:10px;
            top:10px;
        }
        #background li{
            float:left;
            margin-left:10px;
            text-align:center;
            border:1px solid red;
            border-radius:5px;
        }
        #myImage{
            width:600px;
            height:400px;
            margin:100px auto;
        }
        #myImage img{
            width:100%;
            height:100%;
        }
    </style>


    <ul id="background">
        <li data-src="/images/bg1.jpg">&#x56FE;&#x7247;1</li>
        <li data-src="/images/bg2.jpg">&#x56FE;&#x7247;2</li>
    </ul>
    <div id="myImage">
    </div>
<script>
 let container = document.querySelector('#background');
 let myImage = document.querySelector('#myImage');
 let Background = (function(){
     let img = new Image();
     myImage.appendChild(img);
     return {
         set(src){
             img.src = src;
         }
     }
 })();
 let LoadingBackground = (function(){
     let img = new Image();
     img.onload = function(){
         Background.set(this.src);
     }
     return {
         set(src){ 
            Background.set(`/images/loading.gif`);
            img.src = src;
         }
     }
 })();
 container.addEventListener('click',function(event){
     let src = event.target.dataset.src;
     LoadingBackground.set(src+'?ts='+Date.now());
 });
</script>


</code></pre>
<ul>
<li>&#x66F4;&#x7B26;&#x5408;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x539F;&#x5219;&#x548C;&#x5F00;&#x95ED;&#x539F;&#x5219;</li>
</ul>
<h5 id="t798.3.3 &#x9632;&#x6296;&#x4EE3;&#x7406;">8.3.3 &#x9632;&#x6296;&#x4EE3;&#x7406; <a href="#t798.3.3 &#x9632;&#x6296;&#x4EE3;&#x7406;"> # </a></h5>
<h6 id="t808.3.3.1 todo.html">8.3.3.1 todo.html <a href="#t808.3.3.1 todo.html"> # </a></h6>
<pre><code class="lang-html">
    <ul id="todos">
    </ul>
<script>
    let todos = document.querySelector('#todos');
    window.onload = function(){
        fetch('/todos').then(res=>res.json()).then(response=>{
            todos.innerHTML = response.map(item=>`<li "><input value="${item.id}" type="checkbox" ${item.completed?"checked":""}/>${item.text}</li>`).join('');
        });
    }
    function toggle(id){
       fetch(`/toggle/${id}`).then(res=>res.json()).then(response=>{
            console.log('response',response);
        });
    }
    todos.addEventListener('click',function(event){
        let checkbox = event.target;
        let id = checkbox.value;
        toggle(id);
    });
</script>

</code></pre>
<h6 id="t818.3.3.2 todos.html">8.3.3.2 todos.html <a href="#t818.3.3.2 todos.html"> # </a></h6>
<pre><code class="lang-html">
    <ul id="todos">
    </ul>
<script>
    let todos = document.querySelector('#todos');
    window.onload = function(){
        fetch('/todos').then(res=>res.json()).then(response=>{
            todos.innerHTML = response.map(item=>`<li "><input value="${item.id}" type="checkbox" ${item.completed?"checked":""}/>${item.text}</li>`).join('');
        });
    }
    function toggle(id){
       fetch(`/toggle/${id}`).then(res=>res.json()).then(response=>{
            console.log('response',response);
        });
    }
    let LazyToggle = (function(id){
        let ids = [];
        let timer;
        return function(id){
            ids.push(id);
            if(!timer){
              timer = setTimeout(function(){
                  toggle(ids.join(','));
                  ids = null;
                  clearTimeout(timer);
                  timer = null;
              },2000);
            }
        }
    })();
    todos.addEventListener('click',function(event){
        let checkbox = event.target;
        let id = checkbox.value;
        LazyToggle(id);
    });
</script>
</code></pre>
<h6 id="t828.3.3.3 app.js">8.3.3.3 app.js <a href="#t828.3.3.3 app.js"> # </a></h6>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let app=express();
app.use(express.static(__dirname));
let todos=[
    {id: 1,text: &apos;a&apos;,completed: false},
    {id: 2,text: &apos;b&apos;,completed: false},
    {id: 3,text: &apos;c&apos;,completed: false},
];
app.get(&apos;/todos&apos;,function (req,res) {
    res.json(todos);
});
app.get(&apos;/toggle/:id&apos;,function (req,res) {
    let id=req.params.id;
    todos = todos.map(item =&gt; {
        if (item.id==id) {
            item.completed=!item.completed;
        }
        return item;
    });
    res.json({code:0});
});
app.listen(8080);
</code></pre>
<h6 id="t838.3.3.4 app.js">8.3.3.4 app.js <a href="#t838.3.3.4 app.js"> # </a></h6>
<pre><code class="lang-js">app.get(&apos;/toggle/:ids&apos;,function (req,res) {
    let ids=req.params.ids;
    ids=ids.split(&apos;,&apos;).map(item=&gt;parseInt(item));
    todos = todos.map(item =&gt; {
        if (ids.includes(item.id)) {
            item.completed=!item.completed;
        }
        return item;
    });
    res.json({code:0});
});
</code></pre>
<h5 id="t848.3.4 &#x4EE3;&#x7406;&#x8DE8;&#x57DF;">8.3.4 &#x4EE3;&#x7406;&#x8DE8;&#x57DF; <a href="#t848.3.4 &#x4EE3;&#x7406;&#x8DE8;&#x57DF;"> # </a></h5>
<h6 id="t858.3.4.1 3000.js">8.3.4.1 3000.js <a href="#t858.3.4.1 3000.js"> # </a></h6>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let app=express();
app.use(express.static(__dirname));
app.listen(3000);
</code></pre>
<h6 id="t868.3.4.2 4000.js">8.3.4.2 4000.js <a href="#t868.3.4.2 4000.js"> # </a></h6>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let app=express();
let bodyParser=require(&apos;body-parser&apos;);
app.use(bodyParser.urlencoded({extended:true}));
app.use(express.static(__dirname));
let users=[];
app.post(&apos;/register&apos;,function(req,res){
    let body=req.body;
    let target=body.target;
    let callback=body.callback;
    let username=body.username;
    let password=body.password;
    let user={username,password};
    let id=users.length==0? 1:users[users.length-1].id+1;
    user.id=id;
    users.push(user);
    res.status(302);
    res.header(&apos;Location&apos;,`${target}?callback=${callback}&amp;args=${id}`);
    res.end();
});
app.listen(4000);
</code></pre>
<h6 id="t878.3.4.3 index.html">8.3.4.3 index.html <a href="#t878.3.4.3 index.html"> # </a></h6>
<pre><code class="lang-js"><script type="text/javascript">
  function receiveId(data){
      alert('用户ID='+data);
  }
</script>
<iframe name="proxyIframe" id="proxyIframe" frameborder="0"></iframe>
<form action="http://localhost:4000/register" method="POST" target="proxyIframe">
   <input type="hidden" name="callback" value="receiveId">
     <input type="hidden" name="target" value="http://localhost:3000/target.html">
     &#x7528;&#x6237;&#x540D;<input type="text" name="username">
     &#x5BC6;&#x7801;<input type="text" name="password">
     <input type="submit" value="&#x63D0;&#x4EA4;">
</form>
</code></pre>
<h6 id="t888.3.4.4 target.html">8.3.4.4 target.html <a href="#t888.3.4.4 target.html"> # </a></h6>
<pre><code class="lang-js">window.onload = function(){
        var query = location.search.substr(1).split(&apos;&amp;&apos;);
        let fn,args;
        for(let i=0,len=query.length;i</code></pre>
<h5 id="t898.3.5 &#x4EE3;&#x7406;&#x7F13;&#x5B58;">8.3.5 &#x4EE3;&#x7406;&#x7F13;&#x5B58; <a href="#t898.3.5 &#x4EE3;&#x7406;&#x7F13;&#x5B58;"> # </a></h5>
<p>&#x7F13;&#x5B58;&#x4EE3;&#x7406;&#x53EF;&#x4EE5;&#x4E3A;&#x5F00;&#x9500;&#x5927;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x63D0;&#x4F9B;&#x6682;&#x65F6;&#x7684;&#x5B58;&#x50A8;</p>
<pre><code class="lang-js">0!=1&#xFF0C;n!=(n-1)!&#xD7;n
</code></pre>
<pre><code class="lang-js">let m = function (n) {
    if (n&lt;=1) {
        return 1;
    } else {
        return n*m(n-1);
    }
}
function sum(n) {
    let result=0;
    for (let i=1;i&lt;=n;i++){
        result+=m(i);
    }
    return result;
}
console.log(sum(4));
</code></pre>
<pre><code class="lang-js">let m = function (n) {
    if (n&lt;=1) {
        return 1;
    } else {
        return n*m(n-1);
    }
}
let sum=(function () {
    let cache={};
    return function sum(n) {
        let result=0;
        for (let i=1;i&lt;=n;i++){
            let r=cache[i];
            if (r) {
                result+=r;
            } else {
                r=m(i);
                cache[i]=r;
                result+=r;
            }
        }
        return result;
    }
})()

console.log(sum(4));
</code></pre>
<h5 id="t908.3.5 $.proxy">8.3.5 $.proxy <a href="#t908.3.5 $.proxy"> # </a></h5>
<ul>
<li>&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;&#x65B0;&#x51FD;&#x6570;&#x59CB;&#x7EC8;&#x4FDD;&#x6301;&#x4E86;&#x7279;&#x5B9A;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x8BED;&#x5883;&#x3002;</li>
<li>jQuery.proxy( function, context ) function&#x4E3A;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#xFF0C;content&#x4E3A;&#x51FD;&#x6570;&#x7684;&#x4E0A;&#x4E0B;&#x6587;this&#x503C;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x6210;&#x8FD9;&#x4E2A;object&#x5BF9;&#x8C61;</li>
</ul>
<pre><code class="lang-js"><script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
   let btn = document.getElementById('btn');
   btn.addEventListener('click',function(){
       setTimeout($.proxy((function(){
           $(this).css('color','red');
       }),this),1000);
   });    
</script>    
</code></pre>
<h5 id="t918.3.6 Proxy">8.3.6 Proxy <a href="#t918.3.6 Proxy"> # </a></h5>
<ul>
<li>Proxy &#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x67D0;&#x4E9B;&#x64CD;&#x4F5C;&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;</li>
<li>Proxy &#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x6210;&#xFF0C;&#x5728;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E4B;&#x524D;&#x67B6;&#x8BBE;&#x4E00;&#x5C42;&#x201C;&#x62E6;&#x622A;&#x201D;&#xFF0C;&#x5916;&#x754C;&#x5BF9;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x90FD;&#x5FC5;&#x987B;&#x5148;&#x901A;&#x8FC7;&#x8FD9;&#x5C42;&#x62E6;&#x622A;&#xFF0C;&#x56E0;&#x6B64;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x673A;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x5916;&#x754C;&#x7684;&#x8BBF;&#x95EE;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x548C;&#x6539;&#x5199;&#x3002;Proxy &#x8FD9;&#x4E2A;&#x8BCD;&#x7684;&#x539F;&#x610F;&#x662F;&#x4EE3;&#x7406;&#xFF0C;&#x7528;&#x5728;&#x8FD9;&#x91CC;&#x8868;&#x793A;&#x7531;&#x5B83;&#x6765;&#x201C;&#x4EE3;&#x7406;&#x201D;&#x67D0;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x8BD1;&#x4E3A;&#x201C;&#x4EE3;&#x7406;&#x5668;&#x201D;&#x3002;</li>
</ul>
<pre><code class="lang-js">let wang={
    name: &apos;wangy&apos;,
    age: 29,
    height:165
}
let wangMama=new Proxy(wang,{
    get(target,key) {
        if (key == &apos;age&apos;) {
            return wang.age-1;
        } else if (key == &apos;height&apos;) {
            return wang.height+5;
        }
        return target[key];
    },
    set(target,key,val) {
        if (key == &apos;boyfriend&apos;) {
            let boyfriend=val;
            if (boyfriend.age&gt;40) {
                throw new Error(&apos;&#x592A;&#x8001;&apos;);
            } else if (boyfriend.salary&lt;20000) {
                throw new Error(&apos;&#x592A;&#x7A77;&apos;);
            } else {
                target[key]=val;
                return true;
            }
        }
    }
});
console.log(wangMama.age);
console.log(wangMama.height);
wangMama.boyfriend={
    age: 41,
    salary:3000
}
</code></pre>
<ul>
<li>&#x4EE3;&#x7406;&#x6A21;&#x5F0F; VS &#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F; &#x9002;&#x914D;&#x5668;&#x63D0;&#x4F9B;&#x4E0D;&#x540C;&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x7684;&#x63A5;&#x53E3;</li>
<li>&#x4EE3;&#x7406;&#x6A21;&#x5F0F; VS &#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F; &#x88C5;&#x9970;&#x5668;&#x6A21;&#x5F0F;&#x539F;&#x6765;&#x7684;&#x529F;&#x80FD;&#x4E0D;&#x53D8;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x6539;&#x53D8;&#x539F;&#x6765;&#x7684;&#x529F;&#x80FD;</li>
</ul>
<h2 id="t929. &#x5916;&#x89C2;&#x6A21;&#x5F0F;">9. &#x5916;&#x89C2;&#x6A21;&#x5F0F; <a href="#t929. &#x5916;&#x89C2;&#x6A21;&#x5F0F;"> # </a></h2>
<p>&#x8BE5;&#x6A21;&#x5F0F;&#x5C31;&#x662F;&#x628A;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x6D41;&#x7A0B;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x7528;&#x6237;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;</p>
<ul>
<li>&#x95E8;&#x9762;&#x89D2;&#x8272;&#xFF1A;&#x5916;&#x89C2;&#x6A21;&#x5F0F;&#x7684;&#x6838;&#x5FC3;&#x3002;&#x5B83;&#x88AB;&#x5BA2;&#x6237;&#x89D2;&#x8272;&#x8C03;&#x7528;&#xFF0C;&#x5B83;&#x719F;&#x6089;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5185;&#x90E8;&#x6839;&#x636E;&#x5BA2;&#x6237;&#x89D2;&#x8272;&#x7684;&#x9700;&#x6C42;&#x9884;&#x5B9A;&#x4E86;&#x51E0;&#x79CD;&#x529F;&#x80FD;&#x7684;&#x7EC4;&#x5408;</li>
<li>&#x5B50;&#x7CFB;&#x7EDF;&#x89D2;&#x8272;:&#x5B9E;&#x73B0;&#x4E86;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5B83;&#x5BF9;&#x5BA2;&#x6237;&#x89D2;&#x8272;&#x548C;Facade&#x65F6;&#x672A;&#x77E5;&#x7684;</li>
<li>&#x5BA2;&#x6237;&#x89D2;&#x8272;:&#x901A;&#x8FC7;&#x8C03;&#x7528;Facede&#x6765;&#x5B8C;&#x6210;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_281c9c59_1720749.jpeg" alt="facade22"></p>
<h4 id="t939.1 &#x7C7B;&#x56FE;">9.1 &#x7C7B;&#x56FE; <a href="#t939.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_519053fe_1720749.jpeg" alt="facade"></p>
<h4 id="t949.2 &#x4EE3;&#x7801;">9.2 &#x4EE3;&#x7801; <a href="#t949.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Sum{
    sum(a,b) {
        return a+b;
    }
}
class Minus{
    minus(a,b) {
        return a-b;
    }
}
class Multiply{
    multiply(a,b) {
        return a * b;
    }
}
class Calculator{
    constructor() {
        this.sumObj=new Sum();
        this.minusObj=new Minus();
        this.multiplyObj=new Multiply();
    }
    sum(...args) {
        this.sumObj.sum(...args);
    }
    minus(...args) {
        this.minusObj.minus(...args);
    }
    multiply(...args) {
        this.multiplyObj.multiply(...args);
    }
}
let calculator=new Calculator();
calculator.sum(1,2);
calculator.minus(1,2);
calculator.multiply(1,2);
</code></pre>
<h4 id="t959.3 &#x4EE3;&#x7801;">9.3 &#x4EE3;&#x7801; <a href="#t959.3 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">
class CPU{
    start() {console.log(&apos;&#x6253;&#x5F00;CPU&apos;);}
}
class Memory{
    start() {console.log(&apos;&#x6253;&#x5F00;&#x5185;&#x5B58;&apos;);}
}
class Disk{
    start() {console.log(&apos;&#x6253;&#x5F00;&#x786C;&#x76D8;&apos;);}
}
class Computer{
    constructor() {
        this.cpu=new CPU();
        this.memory=new Memory();
        this.disk=new Disk();
    }
    start() {
        this.cpu.start();
        this.memory.start();
        this.disk.start();
    }
}
new Computer().start();
</code></pre>
<h4 id="t969.3 &#x573A;&#x666F;">9.3 &#x573A;&#x666F; <a href="#t969.3 &#x573A;&#x666F;"> # </a></h4>
<ul>
<li>&#x4E3A;&#x590D;&#x6742;&#x7684;&#x6A21;&#x5757;&#x6216;&#x5B50;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x5916;&#x754C;&#x8BBF;&#x95EE;&#x7684;&#x6A21;&#x5757;</li>
<li>&#x5B50;&#x7CFB;&#x7EDF;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;</li>
</ul>
<h5 id="t979.3.1 redux">9.3.1 redux <a href="#t979.3.1 redux"> # </a></h5>
<ul>
<li><a href="https://github.com/reduxjs/redux/blob/master/src/index.js">redux</a></li>
</ul>
<h2 id="t9810.&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;">10.&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F; <a href="#t9810.&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x4F9B;&#x7EF4;&#x62A4;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x65B9;&#x6CD5;</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x63D0;&#x4F9B;&#x66F4;&#x65B0;&#x63A5;&#x53E3;</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x628A;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x91CC;</li>
<li>&#x5728;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x5019;&#xFF0C;&#x8C03;&#x7528;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x66F4;&#x65B0;&#x65B9;&#x6CD5;</li>
</ul>
<h4 id="t9910.1 &#x7C7B;&#x56FE;">10.1 &#x7C7B;&#x56FE; <a href="#t9910.1 &#x7C7B;&#x56FE;"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_7fdaa324_1720749.jpeg" alt="observer"></p>
<h4 id="t10010.2 &#x4EE3;&#x7801;">10.2 &#x4EE3;&#x7801; <a href="#t10010.2 &#x4EE3;&#x7801;"> # </a></h4>
<pre><code class="lang-js">class Star{
    constructor(name) {
        this.name=name;
        this.state=&apos;&apos;;
        this.observers=[];
    }
    getState() {
        return this.state;
    }
    setState(state) {
        this.state=state;
        this.notifyAllObservers();
    }
    attach(observer) {
        this.observers.push(observer);
    }
    notifyAllObservers() {
        this.observers.forEach(observer=&gt;observer.update());
    }
}
class Fan{
    constructor(name,subject) {
        this.name=name;
        this.subject=subject;
        this.subject.attach(this);
    }
    update() {
        console.log(`${this.subject.name}&#x6709;&#x65B0;&#x7684;&#x72B6;&#x6001;-${this.subject.getState()},${this.name}&#x6B63;&#x5728;&#x66F4;&#x65B0;`);    
    }
}
let star=new Star(&apos;&#x8D75;&#x4E3D;&#x9896;&apos;);
let fan1=new Fan(&apos;&#x59DC;&#x8001;&#x5E08;&apos;,star);
star.setState(&apos;&#x7ED3;&#x5A5A;&apos;);
</code></pre>
<h4 id="t10110.3 &#x573A;&#x666F;">10.3 &#x573A;&#x666F; <a href="#t10110.3 &#x573A;&#x666F;"> # </a></h4>
<h5 id="t10210.3.1 &#x4E8B;&#x4EF6;&#x7ED1;&#x5B9A;">10.3.1 &#x4E8B;&#x4EF6;&#x7ED1;&#x5B9A; <a href="#t10210.3.1 &#x4E8B;&#x4EF6;&#x7ED1;&#x5B9A;"> # </a></h5>
<pre><code class="lang-js">    <button id="btn">click</button>
    <script>
        let btn = document.getElementById('btn');
        btn.addEventListener('click',()=>{alert(1)});
        btn.addEventListener('click',()=>{alert(2)});
        btn.addEventListener('click',()=>{alert(3)});
    </script>
</code></pre>
<h5 id="t10310.3.2 Promise">10.3.2 Promise <a href="#t10310.3.2 Promise"> # </a></h5>
<pre><code class="lang-js">class Promise{
    constructor(fn) {
        this.callbacks=[];
        let resolve=() =&gt; {
            this.callbacks.forEach(callback =&gt; callback())
        };
        fn(resolve);
    }
    then(callback) {
        this.callbacks.push(callback);
    }
}
let promise=new Promise(function (resolve,reject) {
    setTimeout(function () {
        resolve(100);
    },1000);
});
promise.then(() =&gt; console.log(1));
promise.then(() =&gt; console.log(2));
</code></pre>
<h5 id="t10410.3.3 callbacks">10.3.3 callbacks <a href="#t10410.3.3 callbacks"> # </a></h5>
<ul>
<li>JQuery.Callbacks&#x662F;jQuery1.7+&#x4E4B;&#x540E;&#x5F15;&#x5165;&#x7684;&#xFF0C;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x961F;&#x5217;&#x7684;add&#x3001;remove&#x3001;fire&#x3001;lock&#x7B49;&#x64CD;&#x4F5C;</li>
<li>&#x5E76;&#x63D0;&#x4F9B;once&#x3001;memory&#x3001;unique&#x3001;stopOnFalse&#x56DB;&#x4E2A;option&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x63A7;&#x5236;&#x3002;</li>
<li>Callbacks&#x5BF9;&#x8C61;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x961F;&#x5217;&#xFF0C;&#x83B7;&#x5F97;Callbacks&#x5BF9;&#x8C61;&#x4E4B;&#x540E; &#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5411;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x589E;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x51FD;&#x6570;&#x3002;add&#x548C;remove&#x529F;&#x80FD;&#x76F8;&#x53CD;&#xFF0C;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;empty()&#x5220;&#x9664;&#x56DE;&#x8C03;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="lang-js"><script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
 function Callbacks(){
     let observers = [];
     function add(observer){
         observers.push(observer);
     }
     function remove(observer){
         let index = observers.indexOf(observer);
         if(index != -1)
           observers.splice(index,1);
     }
     function fire(){
         observers.forEach(item=>item());
     }
     return {
         add,
         remove,
         fire
     }
 }
 let callbacks = Callbacks();

 let a1= ()=>alert(1);
 let a2= ()=>alert(2);
 let a3= ()=>alert(13);
 callbacks.add(a1);
 callbacks.add(a2);
 callbacks.add(a3);
 callbacks.remove(a3);
 callbacks.fire();
</script>
</code></pre>
<h5 id="t10510.3.4 events">10.3.4 events <a href="#t10510.3.4 events"> # </a></h5>
<p>&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;</p>
<pre><code class="lang-js">const EventEmitter=require(&apos;./events&apos;);
let subject=new EventEmitter();
subject.on(&apos;click&apos;,function (name) {
    console.log(1,name);
});
subject.on(&apos;click&apos;,function (name) {
    console.log(2,name);
});
subject.emit(&apos;click&apos;,&apos;zfpx&apos;);
</code></pre>
<p>events.js</p>
<pre><code class="lang-js">class EventEmitter{
    constructor() {
        this._events={};
    }
    on(type,listener) {
        let listeners=this._events[type];
        if (listeners) {
            listeners.push(listener);
        } else {
            this._events[type]=[listener];
        }
    }
    emit(type) {
        let listeners=this._events[type];
        let args=Array.from(arguments).slice(1);
        listeners.forEach(listener =&gt; listener(...args));
    }
}
module.exports = EventEmitter;
</code></pre>
<h5 id="t10610.3.5 &#x6D41;">10.3.5 &#x6D41; <a href="#t10610.3.5 &#x6D41;"> # </a></h5>
<pre><code class="lang-js">let fs=require(&apos;fs&apos;);
let rs=fs.createReadStream(&apos;./1.txt&apos;);
rs.on(&apos;data&apos;,function (data) {
    console.log(data)
});
rs.on(&apos;end&apos;,function () {
    console.log(&apos;end&apos;)
});
</code></pre>
<h5 id="t10710.3.6 http&#x670D;&#x52A1;&#x5668;">10.3.6 http&#x670D;&#x52A1;&#x5668; <a href="#t10710.3.6 http&#x670D;&#x52A1;&#x5668;"> # </a></h5>
<pre><code class="lang-js">let http=require(&apos;http&apos;);
let server = http.createServer();
server.on(&apos;request&apos;,(req,res)=&gt;{
  req.on(&apos;data&apos;,function(data){
      console.log(data)
  });
}));
</code></pre>
<h5 id="t10810.3.7 &#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;">10.3.7 &#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570; <a href="#t10810.3.7 &#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;"> # </a></h5>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_ff6d2630_1720749.jpeg" alt="reactlifecycle"></p>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_ac466dd3_1720749.jpeg" alt="vuelifecycle"></p>
<h5 id="t10910.3.8 vue watch">10.3.8 vue watch <a href="#t10910.3.8 vue watch"> # </a></h5>
<pre><code class="lang-js">
<div id="root">
      <p>FullName: {{fullName}}</p>
      <p>FirstName: <input type="text" v-model="firstName"></p>
      <p>LastName: <input type="text" v-model="lastName"></p>
</div>
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.min.js"></script>
<script>
new Vue({
  el:'#root',
  data: {
    firstName:'张',
    lastName: '三',
    fullName:'张三'
  },
  watch: {
    firstName(newName, oldName) {
      this.fullName = newName + ' ' + this.lastName;
    }
  } 
})
</script>
</code></pre>
<h5 id="t11010.3.9 redux">10.3.9 redux <a href="#t11010.3.9 redux"> # </a></h5>
<ul>
<li><a href="https://github.com/reduxjs/redux/blob/master/src/createStore.js">createStore</a>
<code>`</code>js
/**<ul>
<li>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Redux&#x4ED3;&#x5E93;&#x6765;&#x4FDD;&#x5B58;&#x6574;&#x4E2A;&#x72B6;&#x6001;&#x6811;</li>
<li>&#x6539;&#x53D8;&#x72B6;&#x6001;&#x6811;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x662F;&#x8C03;&#x7528;store.dispatch&#x65B9;&#x6CD5;</li>
<li>&#x5728;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x4E2D;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x4ED3;&#x5E93;</li>
<li>&#x4E3A;&#x4E86;&#x6307;&#x5B9A;&#x72B6;&#x6001;&#x6811;&#x7684;&#x5404;&#x4E2A;&#x90E8;&#x5206;&#x5982;&#x4F55;&#x54CD;&#x5E94;action&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F7F;&#x7528;combineReducers&#x65B9;&#x6CD5;&#x628A;&#x591A;&#x4E2A;reducer&#x5408;&#x5E76;&#x4E3A;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;reducer</li>
<li></li>
<li>@param {Function} reducer &#x4E00;&#x4E2A;&#x901A;&#x8FC7;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x548C;&#x8981;&#x5904;&#x7406;&#x7684;action&#x8FD4;&#x56DE;&#x65B0;&#x7684;&#x72B6;&#x6001;&#x6811;&#x7684;&#x51FD;&#x6570;</li>
<li>@param {any} [preloadedState] &#x521D;&#x59CB;&#x72B6;&#x6001;&#x3002;&#x5728;&#x540C;&#x6784;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x5B83;&#x4EE5;&#x5408;&#x5E76;&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6216;&#x8005;&#x4ECE;&#x4E00;&#x4E2A;&#x4EE5;&#x524D;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x4E2D;&#x6062;&#x590D;. </li>
<li>&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x4E86;combineReducers,&#x6765;&#x4ECE;&#x6839;reducer&#x4E2D;&#x4EA7;&#x751F;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x548C;combineReducer &#x7684;keys&#x76F8;&#x540C;&#x5F62;&#x72B6;&#x7684;&#x5BF9;&#x8C61;</li>
<li>@param {Function} [enhancer] &#x4ED3;&#x5E93;&#x7684;enhancer. &#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x53BB;&#x589E;&#x5F3A;&#x4ED3;&#x5E93;&#x7684;&#x80FD;&#x529B;&#x4EE5;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x80FD;&#x529B;&#x6BD4;&#x5982;&#x4E2D;&#x95F4;&#x4EF6;</li>
<li>&#x65F6;&#x95F4;&#x65C5;&#x884C;&#xFF0C;&#x6301;&#x4E45;&#x5316;&#x7B49;&#x7B49;&#x3002;redux&#x81EA;&#x5E26;&#x7684;&#x552F;&#x4E00;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;applyMiddleware</li>
<li>@returns {Store} &#x662F;&#x4E00;&#x4E2A;Redux&#x4ED3;&#x5E93;&#x8BA9;&#x4F60;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x72B6;&#x6001;&#xFF0C;&#x6D3E;&#x53D1;action&#x5E76;&#x8BA2;&#x9605;&#x72B6;&#x6001;&#x53D8;&#x5316;
*/</li>
</ul>
</li>
</ul>
<p>export default function createStore(reducer,preloadedState,enhancer) {
    if (enhancer) {
        return enhancer(createStore)(reducer,preloadedState);
    }
    let state=preloadedState;
    let listeners=[];
    /**</p>
<pre><code> * &#x8BFB;&#x53D6;&#x4ED3;&#x5E93;&#x7BA1;&#x7406;&#x7684;&#x72B6;&#x6001;&#x6811;
 * @returns {any} &#x5E94;&#x7528;&#x5F53;&#x524D;&#x7684;&#x72B6;&#x6001;&#x6811;
 */
function getState() {
    return state;
}
/**
 * &#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x53D8;&#x5316;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x3002;&#x5B83;&#x5C06;&#x5728;&#x4EFB;&#x4F55;&#x6D3E;&#x53D1;&#x52A8;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#x88AB;&#x8C03;&#x7528;
 * &#x72B6;&#x6001;&#x6811;&#x7684;&#x90E8;&#x5206;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x751F;&#x6F5C;&#x5728;&#x7684;&#x53D8;&#x5316;&#x3002;&#x4F60;&#x53EF;&#x80FD;&#x5728;&#x90A3;&#x4E2A;&#x65F6;&#x5019;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x7528;getState&#x65B9;&#x6CD5;&#x4EE5;&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x7684;&#x72B6;&#x6001;&#x3002;
 * &#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x91CC;&#x8C03;&#x7528;dispatch&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x4F1A;&#x5177;&#x5907;&#x4EE5;&#x4E0B;&#x6CE8;&#x610F;&#x4E8B;&#x9879;
 * 1. &#x8BA2;&#x9605;&#x4EC5;&#x4EC5;&#x5728;&#x6BCF;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x6BCF;&#x4E00;&#x4E2A;dispatch&#x65B9;&#x6CD5;&#x65F6;&#x88AB;&#x8BB0;&#x5F55;&#x5FEB;&#x7167;
 * &#x5982;&#x679C;&#x4F60;&#x5728;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x88AB;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x5019;&#x8BA2;&#x9605;&#x6216;&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x5BF9;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x5904;&#x7406;&#x4E2D;&#x7684;dispatch&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6548;&#x679C;
 * &#x5C3D;&#x7BA1;&#x5982;&#x6B64;&#xFF0C;&#x5728;&#x4E0B;&#x4E00;&#x6B21;dispatch&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x4E2D;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x4E0D;&#x662F;&#x5185;&#x5D4C;&#xFF0C;&#x90FD;&#x5C06;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6700;&#x65B0;&#x7684;&#x8BA2;&#x9605;&#x5217;&#x8868;
 * 
 * 2.&#x76D1;&#x542C;&#x51FD;&#x6570;&#x4E0D;&#x5E94;&#x8BE5;&#x9884;&#x671F;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x4E3A;&#x72B6;&#x6001;&#x53EF;&#x80FD;&#x5728;dispatch&#x4E2D;&#x88AB;&#x66F4;&#x65B0;&#x591A;&#x6B21;&#x3002; &#x5C3D;&#x7BA1;&#x5982;&#x6B64;&#xFF0C;&#x5728; dispatch&#x4E4B;&#x524D;&#x6CE8;&#x518C;&#x7684;&#x8BA2;&#x9605;&#x8005;&#x5C06;&#x4F1A;&#x4EE5;&#x6700;&#x65B0;&#x7684;&#x72B6;&#x6001;&#x8C03;&#x7528;
 * 
 * @param {*} listener  &#x6BCF;&#x4E00;&#x6B21;dispatch&#x65F6;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x76D1;&#x542C;&#x51FD;&#x6570;
 * @returns {Function} &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x79FB;&#x9664;&#x6B64;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x51FD;&#x6570;
 */
function subscribe(listener) {
    listeners.push(listener);
    return function () {
        const index=listeners.indexOf(listener);
        listeners.splice(inddx,1);
    }
}

/**
 * &#x6D3E;&#x53D1;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#xFF0C;&#x8FD9;&#x662F;&#x89E6;&#x53D1;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x5F0F;
 * &#x7528;&#x6765;&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#x7684;reducer&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x5F53;&#x524D;&#x7684;&#x72B6;&#x6001;&#x6811;&#x548C;&#x7ED9;&#x5B9A;&#x7684;&#x52A8;&#x4F5C;&#x3002;&#x5B83;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C06;&#x4F1A;&#x88AB;&#x5F53;&#x4F5C;&#x4E0B;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x6811;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x4E5F;&#x4F1A;&#x88AB;&#x901A;&#x77E5;
 * 
 * &#x57FA;&#x672C;&#x5B9E;&#x73B0;&#x4E2D;&#x53EA;&#x652F;&#x6301;&#x7B80;&#x5355;&#x52A8;&#x4F5C;&#x5BF9;&#x8C61;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x6D3E;&#x53D1;&#x4E00;&#x4E2A;Promise&#x3001;&#x4E00;&#x4E2A;Observerable&#x3001;&#x4E00;&#x4E2A;thunk&#x6216;&#x8005;&#x5176;&#x5B83;&#x7684;&#x4EFB;&#x4F55;&#x61C2;&#x7231;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x628A;&#x4F60;&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#x7684;&#x51FD;&#x6570;&#x5305;&#x88F9;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x91CC;&#x3002;
 * &#x6BD4;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;redux-thunk&#x5305;&#x3002;&#x751A;&#x81F3;&#x4E2D;&#x95F4;&#x4EF6;&#x6700;&#x540E;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C06;&#x4F1A;&#x6D3E;&#x53D1;&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x3002;
 * 
 * 
 * @param {*} action &#x4E00;&#x4E2A;&#x8868;&#x793A;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#x7684;&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x3002;&#x4FDD;&#x6301;&#x52A8;&#x4F5C;&#x5E8F;&#x5217;&#x5316;&#x5C06;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#xFF0C;&#x4EE5;&#x65B9;&#x4FBF;&#x4F60;&#x8FDB;&#x884C;&#x8BB0;&#x5F55;&#x548C;&#x56DE;&#x653E;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x3002;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x65C5;&#x884C;&#x5DE5;&#x5177;redux-devtools.&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;type&#x5C5E;&#x6027;&#x800C;&#x4E14;&#x4E0D;&#x80FD;&#x662F;undefine.&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&#x8868;&#x793A;&#x52A8;&#x4F5C;&#x7C7B;&#x578B;&#x5C06;&#x4F1A;&#x662F;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#x3002;
 * @returns {object} &#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x4F60;&#x6D3E;&#x53D1;&#x7684;&#x76F8;&#x540C;&#x7684;&#x52A8;&#x4F5C;&#x5BF9;&#x8C61;
 * &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5305;&#x88F9; dispatch&#x53BB;&#x8FD4;&#x56DE;&#x522B;&#x7684;&#x4E1C;&#x897F;(&#x6BD4;&#x5982;&#x4F60;&#x7B49;&#x5F85;&#x7684;Promise)
 */
function dispatch(action) {
    state=reducer(state,action);
    listeners.forEach(listener=&gt;listener())
}
dispatch({type:&apos;@@redux/INIT&apos;});
return {
    dispatch,
    subscribe,
    getState
}
</code></pre><p>}</p>
<pre><code>
#### 10.4 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x548C;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;
##### 10.4.1 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;(Observer)
- &#x8BA2;&#x9605;&#x8005;&#x628A;&#x81EA;&#x5DF1;&#x60F3;&#x8BA2;&#x9605;&#x7684;&#x4E8B;&#x4EF6;&#x6CE8;&#x518C;&#x5230;&#x8C03;&#x5EA6;&#x4E2D;&#x5FC3;
- &#x5F53;&#x8BE5;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x65F6;&#x5019;&#xFF0C;&#x53D1;&#x5E03;&#x8005;&#x53D1;&#x5E03;&#x8BE5;&#x4E8B;&#x4EF6;&#x5230;&#x8C03;&#x5EA6;&#x4E2D;&#x5FC3;,&#x7531;&#x8C03;&#x5EA6;&#x4E2D;&#x5FC3;&#x7EDF;&#x4E00;&#x8C03;&#x5EA6;&#x8BA2;&#x9605;&#x8005;&#x6CE8;&#x518C;&#x5230;&#x8C03;&#x5EA6;&#x4E2D;&#x5FC3;&#x7684;&#x5904;&#x7406;&#x4EE3;&#x7801;&#x3002;

```js
class Agency{
    constructor() {
        this._topics={};
    }
    subscribe(topic,listener) {
        let listeners=this._topics[topic];
        if (listeners) {
            listeners.push(listener);
        } else {
            this._topics[topic]=[listener];
        }
    }
    publish(topic) {
        let listeners=this._topics[topic];
        let args=Array.from(arguments).slice(1);
        listeners.forEach(listener =&gt; listener(...args));
    }
}
let agent=new Agency();
class Landlord{
    constructor(name) {
        this.name=name;
    }
    lend(agent,area,money) {
        agent.publish(&apos;house&apos;,area,money);
    }
}

class Tenant{
    constructor(name) {
        this.name=name;
    }
    rent(agent) {
        agent.subscribe(&apos;house&apos;, (area,money)=&gt; {
            console.log(`&#x6709;&#x65B0;&#x623F;&#x6E90;&#x4E86;, ${area}&#x5E73;&#x7C73;, ${money}&#x5143;`);
        });
    }
}
let t1=new Tenant(&apos;&#x623F;&#x5BA2;1&apos;);
let t2=new Tenant(&apos;&#x623F;&#x5BA2;2&apos;);
let l1=new Landlord(&apos;&#x623F;&#x4E1C;1&apos;);
t1.rent(agent);
t2.rent(agent);
l1.lend(agent,30,2000);
</code></pre><ul>
<li>&#x867D;&#x7136;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#x90FD;&#x5B58;&#x5728;&#x8BA2;&#x9605;&#x8005;&#x548C;&#x53D1;&#x5E03;&#x8005;&#xFF08;&#x89C2;&#x5BDF;&#x8005;&#x53EF;&#x8BA4;&#x4E3A;&#x662F;&#x8BA2;&#x9605;&#x8005;&#x3001;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x53EF;&#x8BA4;&#x4E3A;&#x662F;&#x53D1;&#x5E03;&#x8005;&#xFF09;</li>
<li>&#x4F46;&#x662F;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x662F;&#x7531;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x8C03;&#x5EA6;&#x7684;&#xFF0C;&#x800C;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x662F;&#x7EDF;&#x4E00;&#x7531;&#x8C03;&#x5EA6;&#x4E2D;&#x5FC3;&#x8C03;&#x7684;</li>
<li>&#x6240;&#x4EE5;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x8BA2;&#x9605;&#x8005;&#x4E0E;&#x53D1;&#x5E03;&#x8005;&#x4E4B;&#x95F4;&#x662F;&#x5B58;&#x5728;&#x4F9D;&#x8D56;&#x7684;&#xFF0C;&#x800C;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x5219;&#x4E0D;&#x4F1A;&#x3002;</li>
</ul>
<h2 id="t11111. &#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;">11. &#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F; <a href="#t11111. &#x8FED;&#x4EE3;&#x5668;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x987A;&#x5E8F;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x96C6;&#x5408;</li>
<li>&#x4F7F;&#x7528;&#x8005;&#x65E0;&#x9700;&#x77E5;&#x9053;&#x96C6;&#x5408;&#x7684;&#x5185;&#x90E8;&#x6570;&#x636E;&#x7ED3;&#x6784;</li>
</ul>
<h3 id="t11211.1 &#x7C7B;&#x56FE;">11.1 &#x7C7B;&#x56FE; <a href="#t11211.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_27475743_1720749.jpeg" alt="iterator"></p>
<h3 id="t11311.2 &#x4EE3;&#x7801;">11.2 &#x4EE3;&#x7801; <a href="#t11311.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">function createIterator(arr) {
    let index=0;
    return {
        next() {
            return index</code></pre>
<h3 id="t11411.3 &#x573A;&#x666F;">11.3 &#x573A;&#x666F; <a href="#t11411.3 &#x573A;&#x666F;"> # </a></h3>
<h4 id="t11511.3.1 Iterator">11.3.1 Iterator <a href="#t11511.3.1 Iterator"> # </a></h4>
<ul>
<li>&#x5728;ES6&#x4E2D;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6709;Array&#x3001;Map&#x3001;Set&#x3001;String&#x3001;TypedArray&#x3001;arguments&#x3001;NodeList</li>
<li>&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7684;&#x904D;&#x5386;&#x63A5;&#x53E3;&#x6765;&#x904D;&#x5386;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</li>
<li>&#x4ED6;&#x4EEC;&#x90FD;&#x6709; [Symbol.Iterator]&#x5C5E;&#x6027;&#xFF0C;&#x5C5E;&#x6027;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x51FD;&#x6570;&#x4F1A;&#x8FD4;&#x56DE;&#x8FED;&#x4EE3;&#x5668;</li>
<li>&#x8FED;&#x4EE3;&#x5668;&#x5C31;&#x6709;next&#x65B9;&#x6CD5;&#x987A;&#x5E8F;&#x8FD4;&#x56DE;&#x5B50;&#x5143;&#x7D20;<pre><code class="lang-js">Array.prototype[Symbol.iterator]=function () {
  let index=0;
  return {
      next:()=&gt; {
          return index</code></pre>
</li>
</ul>
<pre><code class="lang-js">let result={};
while (!result.done) {
    result=it.next();
    console.log(result);
}
</code></pre>
<pre><code class="lang-js">for (let item of arr) {
    console.log(item);
}
</code></pre>
<h4 id="t11611.3.2 ...">11.3.2 ... <a href="#t11611.3.2 ..."> # </a></h4>
<p>&#x89E3;&#x6784;&#x8D4B;&#x503C;</p>
<pre><code class="lang-js">let arr = [1,2];
let [x,y] = arr;
let arr2 = [1, ...arr];
</code></pre>
<h4 id="t11711.3.3 yield*">11.3.3 yield* <a href="#t11711.3.3 yield*"> # </a></h4>
<p>yield*&#x540E;&#x9762;&#x8DDF;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x904D;&#x5386;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x4F1A;&#x8C03;&#x7528;&#x8BE5;&#x7ED3;&#x6784;&#x7684;&#x904D;&#x5386;&#x5668;&#x63A5;&#x53E3;&#x3002;</p>
<pre><code class="lang-js">let generator = function* () {
    yield 1;
    yield* [2,3,4];
    yield 5;
  };

var iterator = generator();

console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next());// { value: 3, done: false }
console.log(iterator.next()); // { value: 4, done: false }
console.log(iterator.next()); // { value: 5, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
</code></pre>
<h3 id="t11812. &#x72B6;&#x6001;&#x6A21;&#x5F0F;">12. &#x72B6;&#x6001;&#x6A21;&#x5F0F; <a href="#t11812. &#x72B6;&#x6001;&#x6A21;&#x5F0F;"> # </a></h3>
<ul>
<li>&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x5176;&#x884C;&#x4E3A;&#x7684;&#x6539;&#x53D8;&#xFF0C;&#x8FD9;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x662F;&#x6539;&#x53D8;&#x4E86;&#x5BF9;&#x8C61;</li>
<li>&#x5BF9;&#x8C61;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;</li>
<li>&#x4E0D;&#x540C;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#x7684;&#x903B;&#x8F91;&#x4E0D;&#x4E00;&#x6837;</li>
<li>&#x660E;&#x786E;&#x72B6;&#x6001;&#x548C;&#x6BCF;&#x4E2A;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;</li>
<li>&#x7528;&#x6765;&#x51CF;&#x5C11;<code>if...else</code>&#x5B50;&#x53E5;</li>
</ul>
<h3 id="t11912.1 &#x7C7B;&#x56FE;">12.1 &#x7C7B;&#x56FE; <a href="#t11912.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_c048eb45_1720749.jpeg" alt="state"></p>
<h3 id="t12012.2 &#x4EE3;&#x7801;">12.2 &#x4EE3;&#x7801; <a href="#t12012.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Battery{
    constructor() {
        this.amount=&apos;high&apos;;
    }
    show() {
        if (this.amount == &apos;high&apos;) {
            console.log(&apos;&#x7EFF;&#x8272;&apos;);
            this.amount=&apos;middle&apos;;
        }else if (this.amount == &apos;middle&apos;) {
            console.log(&apos;&#x9EC4;&#x8272;&apos;);
            this.amount=&apos;low&apos;;
        }else{
            console.log(&apos;&#x7EA2;&#x8272;&apos;);
        }
    }
}
let battery=new Battery();
battery.show();
battery.show();
battery.show();
</code></pre>
<ul>
<li><code>show</code>&#x8FDD;&#x53CD;&#x5F00;&#x653E;-&#x5C01;&#x95ED;&#x539F;&#x5219;</li>
<li><code>show</code>&#x65B9;&#x6CD5;&#x903B;&#x8F91;&#x592A;&#x591A;&#x592A;&#x590D;&#x6742;</li>
<li>&#x989C;&#x8272;&#x72B6;&#x6001;&#x5207;&#x6362;&#x4E0D;&#x660E;&#x663E;</li>
<li>&#x8FC7;&#x591A;&#x7684; <code>if/else</code> &#x8BA9;&#x4EE3;&#x7801;&#x4E0D;&#x53EF;&#x7EF4;&#x62A4;</li>
</ul>
<pre><code class="lang-js">class Battery {
    constructor(state) {
        this.amount = &apos;high&apos;;
        this.state = new SuccessState();
    }
    show() {
        this.state.show();
        if (this.amount == &apos;high&apos;) {
            this.amount=&apos;middle&apos;;
            this.setState(new WarningState());
        } else if(this.amount==&apos;middle&apos;){
            this.amount=&apos;low&apos;;
            this.setState(new DangerState());
        }
    }
    setState(state) {
        this.state = state;
    }
}
class SuccessState {
    constructor(battery){
        this.battery = battery;
    }
    show() {
        console.log(`&#x7EFF;&#x8272; ${battery.amount}`);

  }
}
class WarningState {
    constructor(battery){
        this.battery = battery;
    }
    show() {
        console.log(`&#x9EC4;&#x8272; ${battery.amount}`);
  }
}
class DangerState {
    constructor(battery){
        this.battery = battery;
    }
    show() {
        console.log(`&#x7EA2;&#x8272; ${battery.amount}`);
  }
}

let battery=new Battery();
battery.show();
battery.show();
battery.show();
</code></pre>
<h3 id="t12112.3 &#x5E94;&#x7528;&#x573A;&#x666F;">12.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t12112.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<h4 id="t12212.3.1 &#x70B9;&#x8D5E;">12.3.1 &#x70B9;&#x8D5E; <a href="#t12212.3.1 &#x70B9;&#x8D5E;"> # </a></h4>
<pre><code class="lang-js">let likeState={
    render(element) {
        element.innerHTML=&apos;&#x8D5E;&#x1F44D;&apos;;
    }
}
let likedState={
    render(element) {
        element.innerHTML=&apos;&#x53D6;&#x6D88;&apos;;
    }
}

class Button{
    constructor(container) {
        this.liked=false;
        this.state = likeState;
        this.element=document.createElement(&apos;button&apos;);
        container.appendChild(this.element);
        this.render();
    }
    setState(state) {
        this.state=state;
        this.render();
    }
    render() {
        this.state.render(this.element);
    }
}

let button=new Button(document.body);
button.element.addEventListener(&apos;click&apos;,() =&gt; {
    button.setState(button.liked? likeState:likedState);
    button.liked=!button.liked;
});
</code></pre>
<h4 id="t12312.3.2 promise">12.3.2 promise <a href="#t12312.3.2 promise"> # </a></h4>
<pre><code class="lang-js">class Promise{
    constructor(fn) {
        this.state=&apos;initial&apos;;
        this.successes=[];
        this.fails=[];
        let resolve=(data) =&gt; {
            this.state=&apos;fulfilled&apos;;
            this.successes.forEach(item=&gt;item(data));
        }
        let reject=(error) =&gt; {
            this.state=&apos;failed&apos;;
            this.fails.forEach(item=&gt;item(error));
        }
        fn(resolve,reject);
    }
    then(success,fail) {
        this.successes.push(success);
        this.fails.push(fail);
    }
}
let p=new Promise(function (resolve,reject) {
    setTimeout(function () {
        resolve(1);
    },1000);
});
p.then((data)=&gt;console.log(&apos;&#x6210;&#x529F;&apos;),error=&gt;console.error(&apos;&#x5931;&#x8D25;&apos;));
</code></pre>
<h4 id="t12412.3.3  React&#x5BFC;&#x822A;">12.3.3  React&#x5BFC;&#x822A; <a href="#t12412.3.3  React&#x5BFC;&#x822A;"> # </a></h4>
<ul>
<li><a href="https://codepen.io/zhufengnodejs/pen/LXogOy">codepen.io</a><pre><code class="lang-js">const States = {
&apos;show&apos;:function(){
  console.log(&quot;banner&#x663E;&#x793A;&#xFF0C;&#x70B9;&#x51FB;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&quot;);
  this.setState({
    currentState: &quot;hide&quot;
  })
},
&apos;hide&apos;:function(){
    console.log(&quot;banner&#x9690;&#x85CF;&#xFF0C;&#x70B9;&#x51FB;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&quot;);
    this.setState({
      currentState: &quot;show&quot;
    })
}
}
class Banner extends React.Component{
state={currentState:&apos;show&apos;}
toggle = ()=&gt;{
  let s = this.state.currentState;
  States[s] &amp;&amp; States[s].apply(this);
}
render(){
  return (
    <div>
      {this.state.currentState==&apos;show&apos;&amp;&amp;<nav>&#x5BFC;&#x822A;</nav>}
      <button onclick="{this.toggle}">&#x9690;&#x85CF;</button>
    </div>
  )
}
}
ReactDOM.render(<banner>,document.getElementById(&apos;root&apos;));
</banner></code></pre>
</li>
</ul>
<h4 id="t12512.3.4 &#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;">12.3.4 &#x6709;&#x9650;&#x72B6;&#x6001;&#x673A; <a href="#t12512.3.4 &#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;"> # </a></h4>
<ul>
<li>&#x4E8B;&#x7269;&#x62E5;&#x6709;&#x591A;&#x79CD;&#x72B6;&#x6001;&#xFF0C;&#x4EFB;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x4F1A;&#x5904;&#x4E8E;&#x4E00;&#x79CD;&#x72B6;&#x6001;&#x4E0D;&#x4F1A;&#x5904;&#x4E8E;&#x591A;&#x79CD;&#x72B6;&#x6001;&#xFF1B;</li>
<li>&#x52A8;&#x4F5C;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x4E8B;&#x7269;&#x72B6;&#x6001;&#xFF0C;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x6539;&#x53D8;&#x4E8B;&#x7269;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x6307;&#x5411;&#x591A;&#x4E2A;&#x72B6;&#x6001;&#xFF0C;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x5C31;&#x4E00;&#x4E2A;&#x72B6;&#x6001;</li>
<li>&#x72B6;&#x6001;&#x603B;&#x6570;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF1B;</li>
<li><a href="https://github.com/jakesgordon/javascript-state-machine">javascript-state-machine</a><ul>
<li>form&#xFF1A;&#x5F53;&#x524D;&#x884C;&#x4E3A;&#x4ECE;&#x54EA;&#x4E2A;&#x72B6;&#x6001;&#x6765;</li>
<li>to:&#x5F53;&#x524D;&#x884C;&#x4E3A;&#x6267;&#x884C;&#x5B8C;&#x4F1A;&#x8FC7;&#x6E21;&#x5230;&#x54EA;&#x4E2A;&#x72B6;&#x6001;</li>
<li>name:&#x5F53;&#x524D;&#x884C;&#x4E3A;&#x7684;&#x540D;&#x5B57;</li>
</ul>
</li>
<li>fsm.can(t) - return true &#x5982;&#x679C;&#x8FC7;&#x6E21;&#x65B9;&#x6CD5;t&#x53EF;&#x4EE5;&#x4ECE;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x89E6;&#x53D1;</li>
<li>fsm.cannot(t) - return true &#x5982;&#x679C;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x4E0B;&#x4E0D;&#x80FD;&#x53D1;&#x751F;&#x8FC7;&#x6E21;&#x65B9;&#x6CD5;t</li>
<li>fsm.transitions() - &#x8FD4;&#x56DE;&#x4ECE;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x53EF;&#x4EE5;&#x8FC7;&#x6E21;&#x5230;&#x7684;&#x72B6;&#x6001;&#x7684;&#x5217;&#x8868;</li>
<li>fsm.allTransitions() - &#x8FD4;&#x56DE;&#x6240;&#x6709;&#x8FC7;&#x6E21;&#x65B9;&#x6CD5;&#x7684;&#x5217;&#x8868;</li>
<li>fsm.allStates() - &#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x673A;&#x6709;&#x7684;&#x6240;&#x6709;&#x72B6;&#x6001;&#x7684;&#x5217;&#x8868;</li>
<li>onBefore<transition> &#x5728;&#x7279;&#x5B9A;&#x52A8;&#x4F5C;TRANSITION&#x524D;&#x89E6;&#x53D1;</transition></li>
<li>onLeaveState &#x79BB;&#x5F00;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x7684;&#x65F6;&#x5019;&#x89E6;&#x53D1;</li>
<li>onLeave<state> &#x5728;&#x79BB;&#x5F00;&#x7279;&#x5B9A;&#x72B6;&#x6001;STATE&#x65F6;&#x89E6;&#x53D1;</state></li>
<li>onTransition &#x5728;&#x4EFB;&#x4F55;&#x52A8;&#x4F5C;&#x53D1;&#x751F;&#x671F;&#x95F4;&#x89E6;&#x53D1;</li>
<li>onEnterState &#x5F53;&#x8FDB;&#x5165;&#x4EFB;&#x4F55;&#x72B6;&#x6001;&#x65F6;&#x89E6;&#x53D1;</li>
<li>onEnter<state> &#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x72B6;&#x6001;STATE&#x65F6;&#x89E6;&#x53D1;</state></li>
<li>on<state> onEnter<state>&#x7684;&#x7B80;&#x5199;</state></state></li>
<li>onAfterTransition &#x4EFB;&#x4F55;&#x52A8;&#x4F5C;&#x89E6;&#x53D1;&#x540E;&#x89E6;&#x53D1;</li>
<li>onAfter<transition> &#x5728;&#x7279;&#x5B9A;&#x52A8;&#x4F5C;TRANSITION&#x540E;&#x89E6;&#x53D1;</transition></li>
<li>on<transition> onAfter<transition>&#x7684;&#x7B80;&#x5199;</transition></transition></li>
</ul>
<pre><code class="lang-js">//&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A; Finite-state machine
var StateMachine = require(&apos;javascript-state-machine&apos;);
//&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A; Finite-state machine
//var StateMachine=require(&apos;javascript-state-machine&apos;);
class StateMachine {
    constructor(options) {
        let {init,transitions,methods} =options;
        this.state=init;
        transitions.forEach(transition =&gt; {
            let {from,to,name}=transition;
            this[name]=function () {
                if (this.state == from) {
                    this.state=to;
                    let onMethod=&apos;on&apos;+name.slice(0,1).toUpperCase()+name.slice(1);
                    methods[onMethod]&amp;&amp;methods[onMethod]();
                }
            }
        });
    }
}
var fsm = new StateMachine({
    init: &apos;solid&apos;,
    transitions: [{
            name: &apos;melt&apos;,
            from: &apos;solid&apos;,
            to: &apos;liquid&apos;
        },
        {
            name: &apos;freeze&apos;,
            from: &apos;liquid&apos;,
            to: &apos;solid&apos;
        },
        {
            name: &apos;vaporize&apos;,
            from: &apos;liquid&apos;,
            to: &apos;gas&apos;
        },
        {
            name: &apos;condense&apos;,
            from: &apos;gas&apos;,
            to: &apos;liquid&apos;
        }
    ],
    methods: {
        onMelt: function () {
            console.log(&apos;I melted&apos;)
        },
        onFreeze: function () {
            console.log(&apos;I froze&apos;)
        },
        onVaporize: function () {
            console.log(&apos;I vaporized&apos;)
        },
        onCondense: function () {
            console.log(&apos;I condensed&apos;)
        }
    }
});
fsm.melt();
</code></pre>
<h2 id="t12613.&#x7B56;&#x7565;&#x6A21;&#x5F0F;">13.&#x7B56;&#x7565;&#x6A21;&#x5F0F; <a href="#t12613.&#x7B56;&#x7565;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x5C06;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x7EC4;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x4F7F;&#x5176;&#x76F8;&#x4E92;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x3002;&#x5C01;&#x88C5;&#x7684;&#x7B97;&#x6CD5;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x72EC;&#x7ACB;&#x6027;&#xFF0C;&#x4E0D;&#x4F1A;&#x968F;&#x5BA2;&#x6237;&#x7AEF;&#x53D8;&#x5316;&#x800C;&#x53D8;&#x5316;&#x3002;</li>
<li>&#x907F;&#x514D;&#x5927;&#x91CF;&#x7684;if else &#x6216; swith case</li>
</ul>
<h3 id="t12713.1 &#x7C7B;&#x56FE;">13.1 &#x7C7B;&#x56FE; <a href="#t12713.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_cccc2ab0_1720749.jpeg" alt="strategy"></p>
<h3 id="t12813.2 &#x4EE3;&#x7801;">13.2 &#x4EE3;&#x7801; <a href="#t12813.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Customer{
    constructor(type) {
        this.type=type;
    }
    pay(amount) {
        if (this.type == &apos;&#x4F1A;&#x5458;&#x987E;&#x5BA2;&apos;) {
            return amount*.9;
        }else if (this.type == &apos;VIP&#x987E;&#x5BA2;&apos;) {
            return amount*.8;
        } 
        return amount;
    }
}
let c1=new Customer(&apos;&#x666E;&#x901A;&#x987E;&#x5BA2;&apos;);
console.log(c1.pay(100));
let c2=new Customer(&apos;&#x4F1A;&#x5458;&#x987E;&#x5BA2;&apos;);
console.log(c2.pay(100));
let c3=new Customer(&apos;VIP&#x987E;&#x5BA2;&apos;);
console.log(c3.pay(100));
</code></pre>
<pre><code class="lang-js">class Customer{
    constructor(kind) {
        this.kind=kind;
    }
    cost(amount) {
        return this.kind.discount(amount);
    }
}
class Kind{

}
class Normal extends Kind{
    discount(amount) {
        return amount;
    }
}
class Member extends Kind{
    discount(amount) {
        return amount*.9;
    }
}
class VIP extends Kind{
    discount(amount) {
        return amount*.8;
    }
}
let c1=new Customer(new Normal());
console.log(c1.cost(100));
c1.kind=new Member();
console.log(c1.cost(100));
c1.kind=new VIP();
console.log(c1.cost(100));
</code></pre>
<p>&#x628A;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#x5728;&#x7B56;&#x7565;&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x6307;&#x5B9A;&#x7B97;&#x6CD5;&#x8C03;&#x7528;&#x5373;&#x53EF;</p>
<pre><code class="lang-js">class Customer{
    constructor() {
        this.kinds={
            normal: function (price) {
                return price;
            },
            member: function (price) {
                return price*.9;
            },
            vip: function (price) {
                return price*.8;
            }
        }
    }
    cost(kind,amount) {
        return this.kinds[kind](amount);
    }
}
let c=new Customer();
console.log(c.cost(&apos;normal&apos;,100));
console.log(c.cost(&apos;member&apos;,100));
console.log(c.cost(&apos;vip&apos;,100));
</code></pre>
<h3 id="t12913.3 &#x5E94;&#x7528;&#x573A;&#x666F;">13.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t12913.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<h4 id="t13013.3.1 animate">13.3.1 animate <a href="#t13013.3.1 animate"> # </a></h4>
<ul>
<li>animate() &#x65B9;&#x6CD5;&#x6267;&#x884C; CSS &#x5C5E;&#x6027;&#x96C6;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x52A8;&#x753B;&#x3002;</li>
<li>&#x8BE5;&#x65B9;&#x6CD5;&#x901A;&#x8FC7;CSS&#x6837;&#x5F0F;&#x5C06;&#x5143;&#x7D20;&#x4ECE;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x3002;CSS&#x5C5E;&#x6027;&#x503C;&#x662F;&#x9010;&#x6E10;&#x6539;&#x53D8;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x52A8;&#x753B;&#x6548;&#x679C;&#x3002;</li>
<li><code>$(selector).animate(styles,speed,easing,callback)</code><ul>
<li>swing &#x52A8;&#x753B;&#x7684;&#x5F00;&#x59CB;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x5FEB;&#x4E00;&#x4E9B;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6162;&#x4E0B;&#x6765;</li>
<li>linear &#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7A33;&#x5B9A;&#x7684;&#x52A8;&#x753B;&#xFF0C;&#x4EE5;&#x4F7F;&#x5F97;&#x52A8;&#x753B;&#x7684;&#x6BCF;&#x4E2A;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;</li>
</ul>
</li>
</ul>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
      #content{
          width:100px;
          height:100px;
          background-color:green;
      }
    </style>


<div id="content"></div>
<button id="bigger">&#x53D8;&#x5927;</button>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
$('#bigger').click(function(){
    $('#content').animate({width:'200px',height:'200px'},1000,'linear');
});
</script>


</code></pre>
<h4 id="t13113.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C;">13.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C; <a href="#t13113.3.2 &#x8868;&#x5355;&#x6821;&#x9A8C;"> # </a></h4>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


    <form id="userform">
      &#x7528;&#x6237;&#x540D; <input type="text" name="username">
      &#x5BC6;&#x7801; <input type="text" name="password">
      &#x624B;&#x673A;&#x53F7; <input type="text" name="mobile">
      <input type="submit">
    </form>
<script>
let Validator = (function(){
    let rules = {
        notEmpty(val,msg){
            if(val == ''){
                return msg;
            }
        },
        minLength(val,length,msg){
            if(val==''||val.length <length){
                return msg;
            }
        },
        maxLength(val,length,msg){
            if(val==''||val.length > length){
                return msg;
            }
        },
        isMobile(val,msg){
            if(!/^1\d{10}/.test(val)){
                return msg;
            }
        }
    }
    function addRule(name,rule){
        rules[name] = rule;
    }
    let checks = [];
    function add(element,rule){
        checks.push(function(){
            let name = rule.shift();
            rule.unshift(element.value);
            return rules[name]&&rules[name].apply(element,rule);
        });
    }
    function start(){
        for(let i=0;i<checks.length;i++){
            let check = checks[i];
            let msg = check();
            if(msg){
                return msg;
            }
        }
    }
    return {
        add,
        start,
        addRule
    }
})();

let form = document.getElementById('userform');
form.onsubmit = function(){
    Validator.add(form.username,['notEmpty','用户名不能为空']);
    Validator.add(form.password,['minLength',6,'密码小于6位最少长度']);
    Validator.add(form.password,['maxLength',8,'密码大于8位最大长度']);
    Validator.add(form.mobile,['isMobile','手机号不合法']);
    let msg =   Validator.start();
    if(msg) {
        alert(msg);
        return false;
    }
    alert('校验通过');
    return true;
}
</script>



</code></pre>
<ul>
<li>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x548C;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x90FD;&#x6709;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x6709;&#x7B56;&#x7565;&#x6216;&#x8005;&#x72B6;&#x6001;&#x7C7B;&#xFF0C;&#x4E0A;&#x4E0B;&#x6587;&#x628A;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x59D4;&#x6258;&#x7ED9;&#x8FD9;&#x4E9B;&#x7C7B;&#x6765;&#x6267;&#x884C;</li>
<li>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4E2D;&#x5404;&#x4E2A;&#x7C7B;&#x662F;&#x5E73;&#x7B49;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7B97;&#x6CD5;&#x4E3B;&#x52A8;&#x5207;&#x6362;&#xFF0C;&#x72B6;&#x6001;&#x6A21;&#x5F0F;&#x4E2D;&#xFF0C;&#x72B6;&#x6001;&#x7684;&#x5207;&#x6362;&#x548C;&#x884C;&#x4E3A;&#x88AB;&#x5C01;&#x88C5;&#x597D;&#x4E86;&#xFF0C;&#x5BA2;&#x6237;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x7EC6;&#x8282;&#x3002;</li>
</ul>
<h2 id="t13214. &#x539F;&#x578B;&#x6A21;&#x5F0F;">14. &#x539F;&#x578B;&#x6A21;&#x5F0F; <a href="#t13214. &#x539F;&#x578B;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x578B;&#x7684;&#x6A21;&#x5F0F;</li>
<li>&#x521B;&#x5EFA;&#x57FA;&#x7C7B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B80;&#x5355;&#x5DEE;&#x5F02;&#x5316;&#x7684;&#x5C5E;&#x6027;&#x653E;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x653E;&#x5728;&#x57FA;&#x7C7B;&#x539F;&#x578B;&#x4E2D;</li>
</ul>
<h3 id="t13314.1 &#x7C7B;&#x56FE;">14.1 &#x7C7B;&#x56FE; <a href="#t13314.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_40ff81b7_1720749.jpeg" alt="myprototype"></p>
<h3 id="t13414.2 &#x4EE3;&#x7801;">14.2 &#x4EE3;&#x7801; <a href="#t13414.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">function Person(name) {
    this.name=name;
    this.getName=function () {
        console.log(this.name);
    }
}
let p1 = new Person(&apos;&#x5F20;&#x4E09;&apos;);
let p2=new Person(&apos;&#x674E;&#x56DB;&apos;);
console.log(p1.getName===p2.getName);
</code></pre>
<pre><code class="lang-js">function Person(name) {
    this.name=name;
}
Person.prototype.getName = function () {
    console.log(this.name);
}
let p1 = new Person(&apos;&#x5F20;&#x4E09;&apos;);
let p2=new Person(&apos;&#x674E;&#x56DB;&apos;);
console.log(p1.getName===p2.getName);
</code></pre>
<h3 id="t13514.3 JavaScript&#x4E2D;&#x7684;&#x539F;&#x578B;">14.3 JavaScript&#x4E2D;&#x7684;&#x539F;&#x578B; <a href="#t13514.3 JavaScript&#x4E2D;&#x7684;&#x539F;&#x578B;"> # </a></h3>
<h4 id="t13614.3.1 &#x51FD;&#x6570;&#x548C;&#x5BF9;&#x8C61;">14.3.1 &#x51FD;&#x6570;&#x548C;&#x5BF9;&#x8C61; <a href="#t13614.3.1 &#x51FD;&#x6570;&#x548C;&#x5BF9;&#x8C61;"> # </a></h4>
<ul>
<li>&#x51FD;&#x6570;&#x662F;&#x4E00;&#x79CD;&#x5BF9;&#x8C61;</li>
<li>&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;</li>
</ul>
<pre><code class="lang-js">//&#x51FD;&#x6570;&#x662F;&#x4E00;&#x79CD;&#x5BF9;&#x8C61;
function Person() {}
console.log(Person instanceof Object);

//&#x5BF9;&#x8C61;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;
let p1=new Person();
let obj1={name: &apos;zfpx&apos;}
let obj=new Object();
obj2.name=&apos;zfpx&apos;;
</code></pre>
<h4 id="t13714.3.2 prototype">14.3.2 prototype <a href="#t13714.3.2 prototype"> # </a></h4>
<ul>
<li>&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x53EB;&#x505A;<code>prototype</code></li>
<li><code>prototype</code>&#x7684;&#x5C5E;&#x6027;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;,&#x9ED8;&#x8BA4;&#x7684;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A;<code>constructor</code>&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6307;&#x5411;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x672C;&#x8EAB;</li>
<li>&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5C5E;&#x6027;<code>__proto__</code>,&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x5F15;&#x7528;&#x4E86;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x51FD;&#x6570;&#x7684;<code>prototype</code></li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_82db32b7_1720749.png" alt="__proto__"></p>
<ul>
<li>&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x7684;prototype&#x662F;&#x7531;Object&#x521B;&#x5EFA;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x7684;<strong>proto</strong>&#x6307;&#x5411;&#x7684;&#x5C31;&#x662F;Object.prototype</li>
<li>Object.prototype&#x7684;<strong>proto</strong>&#x6307;&#x5411;&#x7684;&#x662F;null</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192758_c8e0b1cf_1720749.png" alt="object.prototype"></p>
<ul>
<li>&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;<code>Foo.__proto__</code>&#x6307;&#x5411;Function.prototype</li>
<li><code>Object.__proto__</code>&#x6307;&#x5411;Function.prototype</li>
<li><code>Function.__proto__</code>&#x6307;&#x5411;Function.prototype<pre><code class="lang-js">let sum = new Function(&apos;a&apos;,&apos;b&apos;,&apos;return a+b&apos;);
</code></pre>
</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_01cd602d_1720749.png" alt="function.prototype"></p>
<ul>
<li>Function.prototype&#x7684;<strong>proto</strong>&#x4E5F;&#x6307;&#x5411;Object.prototype</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_a5a04401_1720749.png" alt="function.prototype.__proto__"></p>
<h4 id="t13814.3.3 instanceof">14.3.3 instanceof <a href="#t13814.3.3 instanceof"> # </a></h4>
<ul>
<li>Instanceof&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6682;&#x65F6;&#x79F0;&#x4E3A;A&#xFF1B;&#x7B2C;&#x4E8C;&#x4E2A;&#x53D8;&#x91CF;&#x4E00;&#x822C;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6682;&#x65F6;&#x79F0;&#x4E3A;B</li>
<li>Instanceof&#x7684;&#x5224;&#x65AD;&#x89C4;&#x5219;&#x662F;&#xFF1A;&#x6CBF;&#x7740;A&#x7684;<code>__proto__</code>&#x8FD9;&#x6761;&#x7EBF;&#x6765;&#x627E;&#xFF0C;&#x540C;&#x65F6;&#x6CBF;&#x7740;B&#x7684;<code>prototype</code>&#x8FD9;&#x6761;&#x7EBF;&#x6765;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x6761;&#x7EBF;&#x80FD;&#x627E;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#xFF0C;&#x5373;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8FD4;&#x56DE;<code>true</code>&#x3002;&#x5982;&#x679C;&#x627E;&#x5230;&#x7EC8;&#x70B9;&#x8FD8;&#x672A;&#x91CD;&#x5408;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code>false</code>&#x3002;<pre><code class="lang-js">console.log(Object instanceof Function);
console.log(Function instanceof Object);
console.log(Function instanceof Function);
</code></pre>
</li>
</ul>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_a727097d_1720749.png" alt="fullprototype"></p>
<h4 id="t13914.3.4 &#x539F;&#x578B;&#x94FE;">14.3.4 &#x539F;&#x578B;&#x94FE; <a href="#t13914.3.4 &#x539F;&#x578B;&#x94FE;"> # </a></h4>
<ul>
<li>&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x5148;&#x5728;&#x57FA;&#x672C;&#x5C5E;&#x6027;&#x4E2D;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x518D;&#x6CBF;&#x7740;<strong>proto</strong>&#x8FD9;&#x6761;&#x94FE;&#x5411;&#x4E0A;&#x627E;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x539F;&#x578B;&#x94FE;</li>
<li><code>hasOwnProperty</code>&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x5230;&#x5E95;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x8FD8;&#x662F;&#x4ECE;&#x539F;&#x578B;&#x4E2D;&#x627E;&#x5230;</li>
</ul>
<pre><code class="lang-js">function Foo(){
    this.a = 10;
}
Foo.prototype.b = 20;

let f1  = new Foo();
console.log(f1.a);
console.log(f1.b);
</code></pre>
<h4 id="t14014.3.5 &#x539F;&#x578B;&#x4F18;&#x52BF;">14.3.5 &#x539F;&#x578B;&#x4F18;&#x52BF; <a href="#t14014.3.5 &#x539F;&#x578B;&#x4F18;&#x52BF;"> # </a></h4>
<ul>
<li>&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x6269;&#x5C55;</li>
<li>&#x53EF;&#x4EE5;&#x91CD;&#x5199;&#x7EE7;&#x627F;&#x7684;&#x65B9;&#x6CD5;</li>
</ul>
<pre><code class="lang-js">let obj = {};
console.log(obj.toString());
let arr = [1,2,3];
console.log(arr.toString());
</code></pre>
<h3 id="t14114.4 &#x573A;&#x666F;">14.4 &#x573A;&#x666F; <a href="#t14114.4 &#x573A;&#x666F;"> # </a></h3>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin:0;
            padding:0;
        }
        canvas{
            border:1px solid #000;
        }
    </style>


    <canvas id="canvas" width="1000" height="600"></canvas>
    <script>
    //随机颜色，十六进制方法；
        function getRandomColor( ) {
          var rand = Math.floor(Math.random( ) * 0xFFFFFF).toString(16);
          if(rand.length == 6){        
            return '#'+rand;
          }else{
            return getRandomColor();
          }
        }
        let canvas = document.getElementById('canvas');
        let ctx = canvas.getContext('2d');
        let circles = [];
        function Circle(x,y,radius){
                this.x=x;
                this.y=y;
                this.radius= radius;
                circles.push(this);
        }
        Circle.prototype.update = function() {
                this.radius--;
                if(this.radius>0){
                    return true;
                }
        }
        Circle.prototype.render = function(){
            ctx.beginPath();
            ctx.arc(this.x,this.y,this.radius,0,2*Math.PI);
            ctx.fillStyle = getRandomColor();
            ctx.fill();
        }

        let circle = new Circle(0,0,30);
        canvas.onmousemove = function(event){
            circles.push(new Circle(event.clientX,event.clientY,30));
        }
        setInterval(function(){
            ctx.clearRect(0,0,1000,600);
            circles.forEach(item=>{
                item.update()&&item.render(); 
            });
            circles = circles.filter(item=>item.radius>0);
        },20);
    </script>


</code></pre>
<h2 id="t14215. &#x6865;&#x63A5;&#x6A21;&#x5F0F;">15. &#x6865;&#x63A5;&#x6A21;&#x5F0F; <a href="#t14215. &#x6865;&#x63A5;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x5C06;&#x62BD;&#x8C61;&#x90E8;&#x5206;&#x4E0E;&#x4ED6;&#x7684;&#x5B9E;&#x73B0;&#x90E8;&#x5206;&#x5206;&#x79BB;,&#x8FD9;&#x6837;&#x62BD;&#x8C61;&#x5316;&#x4E0E;&#x5B9E;&#x73B0;&#x5316;&#x89E3;&#x8026;,&#x4F7F;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x7684;&#x53D8;&#x5316;</li>
<li>&#x5E94;&#x7528;&#x573A;&#x666F;&#x662F;&#x5B9E;&#x73B0;&#x7CFB;&#x7EDF;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x89D2;&#x5EA6;&#x5206;&#x7C7B;,&#x6BCF;&#x4E00;&#x79CD;&#x89D2;&#x5EA6;&#x90FD;&#x53EF;&#x80FD;&#x53D8;&#x5316;.</li>
<li>&#x6865;&#x65B9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B9E;&#x73B0;&#x6865;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x5355;&#x65B9;&#x9762;&#x6269;&#x5C55;&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x65B9;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#x62BD;&#x8C61;&#x7C7B;&#x800C;&#x5355;&#x65B9;&#x9762;&#x6269;&#x5C55;&#xFF0C;&#x800C;&#x4E4B;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x5C31;&#x4ECE;&#x6865;&#x63A5;&#x53E3;&#x6765;&#x4F5C;&#x4E3A;&#x7A81;&#x7834;&#x53E3;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x53CC;&#x65B9;&#x6269;&#x5C55;&#x7684;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;</li>
</ul>
<h3 id="t14315.1 &#x7C7B;&#x56FE;">15.1 &#x7C7B;&#x56FE; <a href="#t14315.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_03de8d50_1720749.jpeg" alt="bridge"></p>
<h3 id="t14415.2 &#x4EE3;&#x7801;">15.2 &#x4EE3;&#x7801; <a href="#t14415.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class A {
    constructor(bridge) {
        this.bridge=bridge;
    }
    go() {
        console.log(`&#x4ECE;${this.from()}&#x5230;${this.bridge.to()}`);
    }
}
class A1 extends A {
    from() {
        return &apos;A1&apos;;
    }
}
class A2 extends A {
    from() {
        return &apos;A2&apos;;
    }
}
class A3 extends A {
    from() {
        return &apos;A3&apos;;
    }
}

class B {
    to() {}
}
class B1 extends B {
    to() {
        return &apos;B1&apos;;
    }
}
class B2 extends B {
    to() {
        return &apos;B2&apos;;
    }
}
class B3 extends B {
    to() {
        return &apos;B3&apos;;
    }
}
let b=new B3();
let a=new A2(b);
a.go();
</code></pre>
<h3 id="t14515.3 &#x5E94;&#x7528;&#x573A;&#x666F;">15.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t14515.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<h4 id="t14615.3.1 &#x4E8B;&#x4EF6;&#x76D1;&#x542C;">15.3.1 &#x4E8B;&#x4EF6;&#x76D1;&#x542C; <a href="#t14615.3.1 &#x4E8B;&#x4EF6;&#x76D1;&#x542C;"> # </a></h4>
<pre><code class="lang-js">let express=require(&apos;express&apos;);
let path=require(&apos;path&apos;);
let app=express();
app.get(&apos;/&apos;,(req,res) =&gt; {
    res.sendFile(path.join(__dirname,&apos;4.html&apos;));
});
app.get(&apos;/user/:id&apos;,function (req,res) {
    let id = req.params.id;
    res.json({id,name:`${id}_name`});
});
app.listen(8888);
</code></pre>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>bridage</title>


    <ul>
      <li data-id="1">1</li>
      <li data-id="2">2</li>
    </ul>
    <p id="content">

    </p>
<script>
  let lis = document.querySelectorAll('li');
  for(let i=0;i<lis.length;i++){
      lis[i].addEventListener('click',getUserById);
  }
  function getUserById(event){
      let id = this.dataset.id;
      let xhr = new XMLHttpRequest;
      xhr.open('GET',`/user/${id}`,true);
      xhr.responseType = 'json';
      xhr.onreadystatechange = function(){
          if(xhr.readyState ===4 && xhr.status == 200){
            let user = xhr.response;
            document.getElementById('content').innerHTML = user.name;
          }
      }
      xhr.send();
  }

  function getUserById(id,callback){
      let id = this.dataset.id;
      let xhr = new XMLHttpRequest;
      xhr.open('GET',`/user/${id}`,true);
      xhr.responseType = 'json';
      xhr.onreadystatechange = function(){
          if(xhr.readyState ===4 && xhr.status == 200){
            let user = xhr.response;
            document.getElementById('content').innerHTML = user.name;
          }
      }
      xhr.send();
  }
</script>    


</code></pre>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


    <ul>
      <li data-id="1">1</li>
      <li data-id="2">2</li>
    </ul>
    <p id="content">

    </p>
<script>
  let lis = document.querySelectorAll('li');
  for(let i=0;i<lis.length;i++){
      lis[i].addEventListener('click',addBridage);
  }
  function getUserById(event){
      let id = this.dataset.id;
      let xhr = new XMLHttpRequest;
      xhr.open('GET',`/user/${id}`,true);
      xhr.responseType = 'json';
      xhr.onreadystatechange = function(){
          if(xhr.readyState ===4 && xhr.status == 200){
            let user = xhr.response;
             document.getElementById('content').innerHTML = user.name;
          }
      }
      xhr.send();
  }

  function addBridage(){
      let id = this.dataset.id;
      getUserById(id,function(user){
         document.getElementById('content').innerHTML = user.name;
      });
  }

  function getUserById(id,callback){
      let xhr = new XMLHttpRequest;
      xhr.open('GET',`/user/${id}`,true);
      xhr.responseType = 'json';
      xhr.onreadystatechange = function(){
          if(xhr.readyState ===4 && xhr.status == 200){
            let user = xhr.response;
            callback(user);
          }
      }
      xhr.send();
  }
</script>    


</code></pre>
<h4 id="t14715.3.2 &#x5206;&#x79BB;&#x53D8;&#x5316;">15.3.2 &#x5206;&#x79BB;&#x53D8;&#x5316; <a href="#t14715.3.2 &#x5206;&#x79BB;&#x53D8;&#x5316;"> # </a></h4>
<ul>
<li>&#x5206;&#x79BB;&#x591A;&#x7EF4;&#x53D8;&#x5316;</li>
</ul>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>html</title>
    <style>
        * {
            margin:0;
            padding:0;
        }
        canvas{
            border:1px solid #000;
        }
    </style>


<canvas id="canvas" width="600" height="600"></canvas>
<script>
//形状 颜色 坐标
function Position(x,y) {
  this.x=x;
  this.y=y;
}

function Color(color) {
    this.color=color;
}


function Ball(x,y,color) {
    this.position=new Position(x,y);
    this.color=new Color(color);
}
Ball.prototype.draw=function () {
  let canvas = document.getElementById('canvas');
  let ctx = canvas.getContext('2d');
  ctx.beginPath();
  ctx.arc(this.position.x,this.position.y,100,0,2*Math.PI);
  ctx.fillStyle = this.color.color;
  ctx.fill();
}
new Ball(300,300,'red').draw();
</script>    


</code></pre>
<h2 id="t14816. &#x7EC4;&#x5408;&#x6A21;&#x5F0F;">16. &#x7EC4;&#x5408;&#x6A21;&#x5F0F; <a href="#t14816. &#x7EC4;&#x5408;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x53C8;&#x79F0;&#x6574;&#x4F53;-&#x90E8;&#x5206;&#x6A21;&#x5F0F;</li>
<li>&#x5C06;&#x5BF9;&#x8C61;&#x7EC4;&#x5408;&#x6210;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x4EE5;&#x8868;&#x793A;&#x90E8;&#x5206;-&#x6574;&#x4F53;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;</li>
<li>&#x5BA2;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EDF;&#x4E00;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x5F85;&#x7EC4;&#x5408;&#x5BF9;&#x8C61;&#x548C;&#x53F6;&#x5B50;&#x5BF9;&#x8C61;</li>
</ul>
<h3 id="t14916.1 &#x7C7B;&#x56FE;">16.1 &#x7C7B;&#x56FE; <a href="#t14916.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_5fb1222e_1720749.jpeg" alt="compose"></p>
<h3 id="t15016.2 &#x4EE3;&#x7801;">16.2 &#x4EE3;&#x7801; <a href="#t15016.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <style>
    .red{
        color:red;
    }
    </style>


<div id="root"></div>    
<script>
function ReactElement(type,props) {
    this.type = type;
    this.props = props;
}
let React = {
    createElement(type,props={},...childrens){
        childrens.length===1?childrens = childrens[0]:void 0
        return new ReactElement(type,{...props,children:childrens})
    }
};
let render = (eleObj,container)=>{
    // 先取出第一层 进行创建真实dom
    let {type,props} = eleObj;
    let elementNode = document.createElement(type); // 创建第一个元素
    for(let attr in props){ // 循环所有属性
        if(attr === 'children'){ // 如果是children表示有嵌套关系
            if(typeof props[attr] == 'object'){ // 看是否是只有一个文本节点
                props[attr].forEach(item=>{ // 多个的话循环判断 如果是对象再次调用render方法
                    if(typeof item === 'object'){
                        render(item,elementNode)
                    }else{ //是文本节点 直接创建即可
                        elementNode.appendChild(document.createTextNode(item));
                    }
                })
            }else{ // 只有一个文本节点直接创建即可
                elementNode.appendChild(document.createTextNode(props[attr]));
            }
        }else if(attr === 'className'){ // 是不是class属性 class 属性特殊处理
            elementNode.setAttribute('class',props[attr]);
        }else{
            elementNode.setAttribute(attr,props[attr]);
        }
    }
    container.appendChild(elementNode)
};
//ReactDOM.render(<div>hello<span>world</span></div>);
//ReactDOM.render(React.createElement("div",null,"hello,",React.createElement("span",null,"world")));
render(React.createElement("div",null,"hello,",React.createElement("span",{class:"red"},"world")),document.getElementById('root'));

</script>


</code></pre>
<h3 id="t15116.3 &#x5E94;&#x7528;&#x573A;&#x666F;">16.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t15116.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<h4 id="t15216.3.1 &#x6587;&#x4EF6;&#x5939;&#x548C;&#x6587;&#x4EF6;">16.3.1 &#x6587;&#x4EF6;&#x5939;&#x548C;&#x6587;&#x4EF6; <a href="#t15216.3.1 &#x6587;&#x4EF6;&#x5939;&#x548C;&#x6587;&#x4EF6;"> # </a></h4>
<pre><code class="lang-js">function Folder(name) {
    this.name=name;
    this.children=[];
    this.parent=null;
    this.level=0;
}
Folder.prototype.add=function (child) {
    child.level=this.level+1;
    child.parent=this;
    this.children.push(child);
}
Folder.prototype.show=function () {
    console.log(&apos; &apos;.repeat(this.level)+&apos;&#x6587;&#x4EF6;&#x5939;&apos;+this.name);
    for (let i=0;i</code></pre>
<h4 id="t15316.3.2 &#x7ED8;&#x5236;&#x8868;&#x5355;">16.3.2 &#x7ED8;&#x5236;&#x8868;&#x5355; <a href="#t15316.3.2 &#x7ED8;&#x5236;&#x8868;&#x5355;"> # </a></h4>
<pre><code class="lang-js">class FormContainer {
    constructor(type) {
        this.element = document.createElement(type);
        this.children = [];
    }
    add(child) {
        this.children.push(child);
        this.element.appendChild(child.element);
        return this;
    }
}
class FieldContainer {
    constructor(type) {
        this.element = document.createElement(type);
        this.children = [];
    }
    add(child) {
        this.children.push(child);
        this.element.appendChild(child.element);
        return this;
    }
}
class LabelItem {
    constructor(title) {
        this.element = document.createElement(&apos;label&apos;);
        this.element.innerHTML = title;
    }
}
class InputItem {
    constructor(title) {
        this.element = document.createElement(&apos;input&apos;);
        this.element.name = title;
    }
}
class TipItem {
    constructor(title) {
        this.element = document.createElement(&apos;span&apos;);
        this.element.innerHTML = title;
    }
}
let userform = new FormContainer(&apos;form&apos;).add(
    new FieldContainer(&apos;p&apos;).add(
        new LabelItem(&apos;&#x7528;&#x6237;&#x540D;&apos;)
    ).add(
        new InputItem(&apos;username&apos;)
    ).add(
        new TipItem(&apos;&#x7528;&#x6237;&#x540D;&#x957F;&#x5EA6;&#x4E3A;6-8&#x4F4D;&apos;)
    )
).add(new FieldContainer(&apos;p&apos;).add(
    new LabelItem(&apos;&#x5BC6;&#x7801;&apos;)
).add(
    new InputItem(&apos;password&apos;)
).add(
    new TipItem(&apos;&#x786E;&#x8BA4;&#x5BC6;&#x7801;&apos;)
));
document.body.appendChild(userform.element);
</code></pre>
<h2 id="t15417. &#x547D;&#x4EE4;&#x6A21;&#x5F0F;">17. &#x547D;&#x4EE4;&#x6A21;&#x5F0F; <a href="#t15417. &#x547D;&#x4EE4;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x6267;&#x884C;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x53D1;&#x5E03;&#x8005;&#x548C;&#x6267;&#x884C;&#x8005;&#x5206;&#x5F00;</li>
<li>&#x4E2D;&#x95F4;&#x52A0;&#x5165;&#x547D;&#x4EE4;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E2D;&#x8F6C;&#x7AD9;</li>
</ul>
<p>&#x4E09;&#x79CD;&#x89D2;&#x8272;</p>
<ul>
<li><code>Receiver</code>&#x63A5;&#x53D7;&#x8005;&#x89D2;&#x8272;&#xFF1A;&#x8BE5;&#x89D2;&#x8272;&#x5C31;&#x662F;&#x5E72;&#x6D3B;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x547D;&#x4EE4;&#x4F20;&#x9012;&#x5230;&#x8FD9;&#x91CC;&#x662F;&#x5E94;&#x8BE5;&#x88AB;&#x6267;&#x884C;&#x7684;</li>
<li><code>Command</code>&#x547D;&#x4EE4;&#x89D2;&#x8272;&#xFF1A;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x58F0;&#x660E;</li>
<li><code>Invoker</code>&#x8C03;&#x7528;&#x8005;&#x89D2;&#x8272;&#xFF1A;&#x63A5;&#x6536;&#x5230;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x547D;&#x4EE4;</li>
</ul>
<h3 id="t15517.1 &#x7C7B;&#x56FE;">17.1 &#x7C7B;&#x56FE; <a href="#t15517.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_3f5aa289_1720749.jpeg" alt="command"></p>
<h3 id="t15617.2 &#x4EE3;&#x7801;">17.2 &#x4EE3;&#x7801; <a href="#t15617.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Cooker{
    cook() {
        console.log(`&#x505A;&#x996D;`);    
    }
}
class Cleaner{
    clean() {
        console.log(`&#x6E05;&#x6D01;`);    
    }
}


class CookCommand{
    constructor(cooker) {
        this.cooker=cooker;
    }
    execute() {
        this.cooker.cook();
    }
}
class CleanCommand{
    constructor(cleaner) {
        this.cleaner=cleaner;
    }
    execute() {
        this.cleaner.clean();
    }
}

class Customer{
    constructor(command) {
        this.command=command;
    }
    cook() {
        this.command.execute();
    }
    clean() {
        this.command.execute();
    }
}
let cooker=new Cooker();
let command=new CookCommand(cooker);
let c=new Customer(command);
c.cook();
let cleaner=new Cleaner();
c.command = new CleanCommand(cleaner);
c.clean();
</code></pre>
<h3 id="t15717.3 &#x5E94;&#x7528;&#x573A;&#x666F;">17.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t15717.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<h4 id="t15817.3.1 &#x8BA1;&#x6570;&#x5668;">17.3.1 &#x8BA1;&#x6570;&#x5668; <a href="#t15817.3.1 &#x8BA1;&#x6570;&#x5668;"> # </a></h4>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>&#x8BA1;&#x6570;&#x5668;</title>


    <p id="number">0</p>
    <button id="addBtn">&#x70B9;&#x51FB;&#x6309;&#x94AE;</button>
<script>
 let addBtn = document.getElementById('addBtn');
 let number = document.getElementById('number');

 let worker = {
  add(){
   number.innerHTML = parseInt(number.innerHTML)+1;
  }
 }

 class AddCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.add();
     }
 }

let addCommand = new AddCommand(worker);
addBtn.onclick = ()=>addCommand.execute();
</script>    


</code></pre>
<h4 id="t15917.3.2 &#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A;">17.3.2 &#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A; <a href="#t15917.3.2 &#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A;"> # </a></h4>
<pre><code class="lang-js">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>&#x5F39;&#x51FA;&#x83DC;&#x5355;</title>


    <p id="number">0</p>
    <button id="addBtn">+</button>
    <button id="undoBtn">undo</button>
<script>
 let addBtn = document.getElementById('addBtn');
 let undoBtn = document.getElementById('undoBtn');
 let number = document.getElementById('number');

 let worker = {
  lastVal:-1,
  add(){
   let oldVal = parseInt(number.innerHTML);     
   worker.lastVal = oldVal; 
   number.innerHTML = oldVal+1;
  },
  undo(){
      number.innerHTML = worker.lastVal;
  }
 }

 class AddCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.add();
     }
 }

 let addCommand = new AddCommand(worker);
 class UndoCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.undo();
     }
 }

 let undoCommand = new UndoCommand(worker);
 addBtn.onclick = ()=>addCommand.execute();
 undoBtn.onclick = ()=>undoCommand.execute();
</script>    


</code></pre>
<h4 id="t16017.3.3 &#x591A;&#x6B65;&#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A;">17.3.3 &#x591A;&#x6B65;&#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A; <a href="#t16017.3.3 &#x591A;&#x6B65;&#x64A4;&#x9500;&#x548C;&#x91CD;&#x505A;"> # </a></h4>
<pre><code class="lang-js">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>&#x5F39;&#x51FA;&#x83DC;&#x5355;</title>


    <p id="number">0</p>
    <button id="addBtn">+</button>
    <button id="undoBtn">undo</button>
    <button id="redoBtn">undo</button>
<script>
 let addBtn = document.getElementById('addBtn');
 let undoBtn = document.getElementById('undoBtn');
 let redoBtn = document.getElementById('redoBtn');
 let number = document.getElementById('number');

 let worker = {
  history:[],
  index:-1,
  add(){
   let oldVal = parseInt(number.innerHTML);     
   let newVal = oldVal + 1;
   worker.history.push(newVal);
   worker.index = worker.history.length-1;
   number.innerHTML = newVal;
   console.log(worker);
  },
  undo(){
      if(worker.index-1>=0){
          worker.index--;
        number.innerHTML = worker.history[worker.index];
        console.log(worker);
      }
  },
  redo(){
      if(worker.index+1<worker.history.length){
        worker.index++;  
        number.innerHTML = worker.history[worker.index];
        console.log(worker);
      }
  }
 }

 class AddCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.add();
     }
 }

 let addCommand = new AddCommand(worker);
 class UndoCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.undo();
     }
 }

 let undoCommand = new UndoCommand(worker);
 class RedoCommand{
     constructor(receiver){
         this.receiver = receiver;
     }
     execute(){
         this.receiver.redo();
     }
 }

let redoCommand = new RedoCommand(worker);
addBtn.onclick = ()=>addCommand.execute();
undoBtn.onclick = ()=>undoCommand.execute();
redoBtn.onclick = ()=>redoCommand.execute();
</script>    


</code></pre>
<h2 id="t16118. &#x4EAB;&#x5143;&#x6A21;&#x5F0F;">18. &#x4EAB;&#x5143;&#x6A21;&#x5F0F; <a href="#t16118. &#x4EAB;&#x5143;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x5171;&#x4EAB;&#x5185;&#x5B58;&#xFF0C;&#x8282;&#x7EA6;&#x5185;&#x5B58;&#x7A7A;&#x95F4;</li>
<li>&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#x5171;&#x4EAB;&#x4F7F;&#x7528;</li>
<li>&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x3001;&#x65B9;&#x6CD5;&#x5171;&#x4EAB;&#x5206;&#x79BB;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x5206;&#x4E3A;&#x5185;&#x90E8;&#x6570;&#x636E;&#x3001;&#x5185;&#x90E8;&#x65B9;&#x6CD5;&#x548C;&#x5916;&#x90E8;&#x6570;&#x636E;&#x3001;&#x5916;&#x90E8;&#x65B9;&#x6CD5;&#x3002;</li>
<li>&#x5185;&#x90E8;&#x72B6;&#x6001;&#x4FDD;&#x5B58;&#x5728;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#xFF0C;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;</li>
<li>&#x5916;&#x90E8;&#x72B6;&#x6001;&#x4FDD;&#x5B58;&#x5728;&#x5BF9;&#x8C61;&#x5916;&#x90E8;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x573A;&#x666F;&#x6539;&#x53D8;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x3002;</li>
</ul>
<h3 id="t16218.1 &#x7C7B;&#x56FE;">18.1 &#x7C7B;&#x56FE; <a href="#t16218.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_f42650d7_1720749.jpeg" alt="flyweight"></p>
<h3 id="t16318.2 &#x4EE3;&#x7801;">18.2 &#x4EE3;&#x7801; <a href="#t16318.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">function Person(name,age) {
    this.name=name;
    this.age=age;
}
Person.prototype.getAge=function () {
    console.log(this.age)
}
Person.prototype.getName=function () {
    console.log(this.name)
}
</code></pre>
<h3 id="t16418.3 &#x573A;&#x666F;">18.3 &#x573A;&#x666F; <a href="#t16418.3 &#x573A;&#x666F;"> # </a></h3>
<h4 id="t16518.3.1 &#x5BF9;&#x8C61;">18.3.1 &#x5BF9;&#x8C61; <a href="#t16518.3.1 &#x5BF9;&#x8C61;"> # </a></h4>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>



<input type="radio" value="red" name="color" checked>&#x7EA2; 
<input type="radio" value="yellow" name="color">&#x9EC4; 
<input type="radio" value="blue" name="color">&#x84DD;

<button onclick="draw()">&#x7ED8;&#x5236;</button>

<div id="container">

</div>

<script>
let container = document.getElementById('container');
class MyDiv{
    constructor(){
      this.element = document.createElement('div');
    }
    setColor(color){
        this.element.style = `width:100px;height:100px;background-color:${color}`; 
    }
}
let div = new MyDiv();
function draw(){
  let color = Array.from(document.getElementsByName('color')).find(item=>item.checked).value||'red';
  div.setColor(color);
  container.appendChild(div.element);
}
</script>


</code></pre>
<h4 id="t16618.3.2 &#x5206;&#x9875;">18.3.2 &#x5206;&#x9875; <a href="#t16618.3.2 &#x5206;&#x9875;"> # </a></h4>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


<ul id="news">

</ul>
<button id="nextPage" onclick="goNext()">&#x4E0B;&#x4E00;&#x9875;</button>
<script>
let list = [];
for(let i=0;i<20;i++){
    list[i]=`新闻${i+1}`
}
let pageNum = 0;
let pageSize = 5;
let news = document.getElementById('news');
for(let i=0;i<list.length;i++){
    let li = document.createElement('li');
    li.innerHTML = `新闻${i+1}`;
    li.style.display = 'none';
    news.appendChild(li);
}
function goNext(){
  pageNum++;
  let start = (pageNum -1)*pageSize;
  let lis = document.getElementsByTagName('li');
  for(let i=0;i<=lis.length;i++){
     let li = lis[i];
     if(i>=start && i<start+pageSize){
         li.style.display = 'block';
     }else{
         li.style.display = 'none';
     }
  }
}
goNext();
</script>


</code></pre>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


<ul id="news">

</ul>
<button id="nextPage" onclick="goNext()">&#x4E0B;&#x4E00;&#x9875;</button>

<script>
let list = [];
for(let i=0;i<20;i++){
    list[i]=`新闻${i+1}`
}
let getLi = (function(){
    let lis = [];
    return function(){
        let element;
        if(lis.length<5){
            element = document.createElement('li');
            lis.push(element);
        }else{
            element = lis.shift();
            lis.push(element);
        }
            return element;
    }
})();

let pageNum = 0;
let pageSize = 5;
let news = document.getElementById('news');
function goNext(){
  pageNum++;
  let start = (pageNum -1)*pageSize;
  for(let i=1;i<=5;i++){
      let element = getLi();
      element.innerHTML = `新闻${start+i}`;
      news.appendChild(element);
  }
}
goNext();

</script>


</code></pre>
<h2 id="t16719. &#x6A21;&#x7248;&#x65B9;&#x6CD5;">19. &#x6A21;&#x7248;&#x65B9;&#x6CD5; <a href="#t16719. &#x6A21;&#x7248;&#x65B9;&#x6CD5;"> # </a></h2>
<ul>
<li>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5728;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x9AA8;&#x67B6;&#xFF0C;&#x800C;&#x5C06;&#x4E00;&#x4E9B;&#x6B65;&#x9AA4;&#x7684;&#x5B9E;&#x73B0;&#x5EF6;&#x8FDF;&#x5230;&#x5B50;&#x7C7B;&#x4E2D;</li>
<li>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x5F97;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x7B97;&#x6CD5;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x7B97;&#x6CD5;&#x4E2D;&#x67D0;&#x4E9B;&#x6B65;&#x9AA4;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;</li>
<li>&#x4E00;&#x822C;&#x6709;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#xFF0C;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x662F;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x5B50;&#x7C7B;</li>
<li>&#x597D;&#x83B1;&#x575E;&#x539F;&#x5219;&#xFF0C;&#x5B50;&#x7C7B;&#x653E;&#x5F03;&#x4E86;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x6539;&#x7531;&#x7236;&#x7C7B;&#x6765;&#x8C03;&#x7528;<ul>
<li>&#x53D1;&#x5E03;&#x8BA2;&#x9605;</li>
<li>&#x56DE;&#x8C03;&#x51FD;&#x6570;</li>
</ul>
</li>
</ul>
<h3 id="t16819.1 &#x7C7B;&#x56FE;">19.1 &#x7C7B;&#x56FE; <a href="#t16819.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_375f96b8_1720749.jpeg" alt="template"></p>
<h3 id="t16919.2 &#x4EE3;&#x7801;">19.2 &#x4EE3;&#x7801; <a href="#t16919.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Person{
    dinner() {
        this.buy();
        this.cook();
        this.eat();
    }
    buy() {}
    cook() {}
    eat() {}
}
class Jiangwen extends Person{
    buy() {console.log(&apos;&#x4E70;&#x9EC4;&#x74DC;&apos;);}
    cook() {console.log(&apos;&#x62CD;&#x9EC4;&#x74DC;&apos;);}
    eat() {console.log(&apos;&#x5403;&#x9EC4;&#x74DC;&apos;);}
}
let j=new Jiangwen();
j.dinner();
</code></pre>
<h3 id="t17019.3 &#x573A;&#x666F;">19.3 &#x573A;&#x666F; <a href="#t17019.3 &#x573A;&#x666F;"> # </a></h3>
<h4 id="t17119.3.1 &#x63D0;&#x793A;&#x6846;">19.3.1 &#x63D0;&#x793A;&#x6846; <a href="#t17119.3.1 &#x63D0;&#x793A;&#x6846;"> # </a></h4>
<pre><code class="lang-html">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="3.css">



<script src="3.js"></script>    
<script>
let dialog = new ConfirmDialog({
    title:'标题',
    content:'内容'
});
</script>


</code></pre>
<pre><code class="lang-js">class Dialog{
    constructor(options) {
        this.title = options.title||&apos;&#x6807;&#x9898;&apos;;
        this.content = options.content||&apos;&#x5185;&#x5BB9;&apos;;
        this.onConfirm = options.onConfirm||this.hide;
        this.onCancel = options.onCancel||this.hide;
        this.init();
        this.initEventHandler();
    }
    init() {
        this.panel=document.createElement(&apos;div&apos;);
        this.panel.className=&apos;dialog&apos;;

        this.titleP=document.createElement(&apos;p&apos;);
        this.titleP.innerHTML=this.title;
        this.panel.appendChild(this.titleP);

        this.contentP=document.createElement(&apos;p&apos;);
        this.contentP.innerHTML=this.content;
        this.panel.appendChild(this.contentP);

        this.confirmBtn=document.createElement(&apos;button&apos;);
        this.confirmBtn.className=&apos;button confirm-button&apos;;
        this.confirmBtn.innerHTML=&apos;&#x786E;&#x5B9A;&apos;;
        this.panel.appendChild(this.confirmBtn);

        this.cancelBtn=document.createElement(&apos;button&apos;);
        this.cancelBtn.className=&apos;button cancel-button&apos;;
        this.cancelBtn.innerHTML=&apos;&#x53D6;&#x6D88;&apos;;
        this.panel.appendChild(this.cancelBtn);

        document.body.appendChild(this.panel);
    }
    inithttp://image.bubuko.com/info/201807/20180712173511381297.pngntListener(&apos;click&apos;,() =&gt; {
            this.onConfirm();
            this.hide();
        });
        this.cancelBtn.addEventListener(&apos;click&apos;,() =&gt; {
            this.onCancel();
            this.hide();
        });
    }
    show() {
        this.panel.style.display=&apos;block&apos;;
    }
    hide() {
        this.panel.style.display=&apos;none&apos;;
    }
}

class ContentDialog extends Dialog{
    init() {
        super.init();
        this.titleP.parentNode.removeChild(this.titleP);
    }
}

class ConfirmDialog extends Dialog{
    init() {
        super.init();
        this.cancelBtn.parentNode.removeChild(this.cancelBtn);
    }
}
</code></pre>
<pre><code class="lang-css">.dialog{
    width:400px;
    height:300px;
    position: absolute;
    padding:20px;
    top:50%;
    left:50%;
    margin-left:-200px;
    margin-top:-150px;
    border:1px solid#000;
    background-color: #EEE;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.dialog button{
    width:100px;
    height:30px;
    position: absolute;
    border: none;
    outline: none;

}
.dialog .confirm-button {
    right:140px;
    bottom:20px;
}
.dialog .cancel-button {
    right:20px;
    bottom:20px;
}
</code></pre>
<h4 id="t17219.3.2">19.3.2 <a href="#t17219.3.2"> # </a></h4>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192800_bdf6372b_1720749.png" alt="react-lifecycle"></p>
<h2 id="t17320. &#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;">20. &#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F; <a href="#t17320. &#x804C;&#x8D23;&#x94FE;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x5206;&#x4E3A;&#x591A;&#x4E2A;&#x804C;&#x8D23;&#x89D2;&#x8272;&#x6765;&#x5B8C;&#x6210;</li>
<li>&#x628A;&#x8FD9;&#x4E9B;&#x89D2;&#x8272;&#x90FD;&#x5206;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x4E00;&#x4E2A;&#x94FE;&#x4E32;&#x8D77;&#x6765;</li>
<li>&#x5C06;&#x53D1;&#x8D77;&#x8005;&#x548C;&#x5404;&#x4E2A;&#x5904;&#x7406;&#x8005;&#x8FDB;&#x884C;&#x9694;&#x79BB;</li>
</ul>
<h3 id="t17420.1 &#x7C7B;&#x56FE;">20.1 &#x7C7B;&#x56FE; <a href="#t17420.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_0dc3a8f6_1720749.jpeg" alt="responsibility"></p>
<h3 id="t17520.2 &#x4EE3;&#x7801;">20.2 &#x4EE3;&#x7801; <a href="#t17520.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Employee{
    constructor(next) {
        this.next=next;
    }
}
class GroupLeader extends Employee{
    audit() {
        console.log(`&#x7EC4;&#x957F;&#x5DF2;&#x7ECF;&#x5BA1;&#x6279;!`);
        this.next&amp;&amp;this.next.audit();
    }
}
class Manager extends Employee{
    audit() {
        console.log(`&#x7ECF;&#x7406;&#x5DF2;&#x7ECF;&#x5BA1;&#x6279;!`);
        this.next&amp;&amp;this.next.audit();
    }
}
class Boss extends Employee{
    audit() {
        console.log(`&#x8001;&#x677F;&#x5DF2;&#x7ECF;&#x5BA1;&#x6279;!`);
        this.next&amp;&amp;this.next.audit();
    }
}
let boss=new Boss();
let manager=new Manager(boss);
let groupLeader=new GroupLeader(manager);
groupLeader.audit();

</code></pre>
<h2 id="t17621. &#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;">21. &#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F; <a href="#t17621. &#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x8BB0;&#x5F55;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x5316;</li>
<li>&#x53EF;&#x4EE5;&#x6062;&#x590D;&#x4E4B;&#x524D;&#x7684;&#x67D0;&#x4E2A;&#x72B6;&#x6001;</li>
</ul>
<h3 id="t17721.1 &#x7C7B;&#x56FE;">21.1 &#x7C7B;&#x56FE; <a href="#t17721.1 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_153a110d_1720749.jpeg" alt="memos"></p>
<h3 id="t17821.2 &#x4EE3;&#x7801;">21.2 &#x4EE3;&#x7801; <a href="#t17821.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-html">    <input type="text" id="content">
    <button id="save-btn">&#x4FDD;&#x5B58;</button>
    <button id="prev-btn">&#x4E0A;&#x4E00;&#x6B65;</button>
    <button id="next-btn">&#x4E0B;&#x4E00;&#x6B65;</button>
    <script>
      let content = document.getElementById('content');
      let saveBtn = document.getElementById('save-btn');
      let prevBtn = document.getElementById('prev-btn');
      let nextBtn = document.getElementById('next-btn');
      class Memo{
          constructor(content){
              this.content = content;
          }
      }
      class Memos {
          constructor(){
              this.index = 0;
              this.list = [new Memo('')];
          }
          add(content){
              this.list[++this.index] = new Memo(content);
          }
          get(){
              return this.list[this.index];
          }
          prev(){
              if(this.index ==0) return alert('没有上一步');
              return this.list[--this.index];
          }
          next(){
               if(this.index ==this.list.length-1) return alert('没有下一步');
              return this.list[++this.index];
          }
      }
      let memos = new Memos();
      saveBtn.addEventListener('click',function(){
          memos.add(content.value);
      });
      prevBtn.addEventListener('click',function(){
          let memo = memos.prev();
          content.value = memo.content;
      });
      nextBtn.addEventListener('click',function(){
          let memo = memos.next();
          content.value = memo.content;
      });
    </script>
</code></pre>
<h2 id="t17922. &#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;">22. &#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F; <a href="#t17922. &#x4E2D;&#x4ECB;&#x8005;&#x6A21;&#x5F0F;"> # </a></h2>
<h3 id="t18022.1 &#x7C7B;&#x5E93;">22.1 &#x7C7B;&#x5E93; <a href="#t18022.1 &#x7C7B;&#x5E93;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_bb120e34_1720749.jpeg" alt="mediator"></p>
<h3 id="t18122.2 &#x4EE3;&#x7801;">22.2 &#x4EE3;&#x7801; <a href="#t18122.2 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Boy{
    constructor(mediator) {
        this.mediator=mediator;
        this.salary=1000;
    }
    learnGirl() {
        this.mediator.learnGirl();
    }
}
class Girl{
    constructor(mediator) {
        this.mediator=mediator;
        this.age=28;
    }
    learnBoy() {
        this.mediator.learnBoy();
    }
}
class Mediator{
    constructor(boy,girl) {
        this.boy=boy;
        this.girl=girl;
    }
    learnBoy() {
        console.log(`&#x8FD9;&#x4E2A;&#x7537;&#x5B69;&#x6708;&#x85AA;${this.boy.salary*10}`);
    }
    learnGirl() {
        console.log(`&#x8FD9;&#x4E2A;&#x5973;&#x5B69;&#x5E74;&#x9F84;${this.girl.age-10}`);
    }
}
let boy=new Boy();
let girl=new Girl();
let mediator=new Mediator(boy,girl);
boy.mediator=mediator;
girl.mediator=mediator;
boy.learnGirl();
girl.learnBoy();
</code></pre>
<h2 id="t18223. &#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;">23. &#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F; <a href="#t18223. &#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x5C06;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x548C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x8FDB;&#x884C;&#x5206;&#x79BB;</li>
<li>&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x5B83;&#x662F;&#x4F5C;&#x7528;&#x4E8E;&#x4E00;&#x4E9B;&#x5143;&#x7D20;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x5C5E;&#x4E8E;&#x67D0;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x3002;</li>
<li>&#x540C;&#x65F6;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x4E0D;&#x6539;&#x53D8;&#x5404;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x524D;&#x63D0;&#x4E0B;&#x5B9A;&#x4E49;&#x65B0;&#x64CD;&#x4F5C;&#x662F;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x7CBE;&#x9AD3;&#x4E2D;&#x7684;&#x7CBE;&#x9AD3;&#x3002;</li>
</ul>
<h3 id="t18323.1 &#x7EC4;&#x6210;&#x90E8;&#x5206;">23.1 &#x7EC4;&#x6210;&#x90E8;&#x5206; <a href="#t18323.1 &#x7EC4;&#x6210;&#x90E8;&#x5206;"> # </a></h3>
<ul>
<li>ObjectStructure&#xFF1A;&#x5B9A;&#x4E49;&#x5F53;&#x4E2D;&#x6240;&#x8BF4;&#x7684;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#xFF0C;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x8868;&#x8FF0;&#xFF0C;&#x5B83;&#x5185;&#x90E8;&#x7BA1;&#x7406;&#x4E86;&#x5143;&#x7D20;&#x96C6;&#x5408;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8FED;&#x4EE3;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x4F9B;&#x8BBF;&#x95EE;&#x8005;&#x8BBF;&#x95EE;&#x3002;</li>
<li>Element&#xFF1A;&#x5143;&#x7D20;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x8BBF;&#x95EE;&#x8005;&#x7684;&#x65B9;&#x6CD5;&#xFF08;Accept&#xFF09;&#xFF0C;&#x5176;&#x610F;&#x4E49;&#x662F;&#x6307;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x8981;&#x53EF;&#x4EE5;&#x88AB;&#x8BBF;&#x95EE;&#x8005;&#x8BBF;&#x95EE;&#x3002;</li>
<li>ConcreteElementA&#x3001;ConcreteElementB&#xFF1A;&#x5177;&#x4F53;&#x7684;&#x5143;&#x7D20;&#x7C7B;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x63A5;&#x53D7;&#x8BBF;&#x95EE;&#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4F7F;&#x7528;&#x8BBF;&#x95EE;&#x8005;&#x63D0;&#x4F9B;&#x7684;&#x8BBF;&#x95EE;&#x8BE5;&#x5143;&#x7D20;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</li>
<li>Visitor&#xFF1A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF08;Element&#xFF09;&#x8BBF;&#x95EE;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5B83;&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5B83;&#x7684;&#x65B9;&#x6CD5;&#x6570;&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BB2;&#x4E0E;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x65CF;&#x8981;&#x7A33;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x7ECF;&#x5E38;&#x6DFB;&#x52A0;&#x3001;&#x79FB;&#x9664;&#x5143;&#x7D20;&#x7C7B;&#xFF0C;&#x5FC5;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x9891;&#x7E41;&#x5730;&#x4FEE;&#x6539;Visitor&#x63A5;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x6837;&#x5219;&#x4E0D;&#x9002;&#x5408;&#x4F7F;&#x7528;&#x8BBF;&#x95EE;&#x8005;&#x6A21;&#x5F0F;&#x3002;</li>
</ul>
<h3 id="t18423.2 &#x7C7B;&#x56FE;">23.2 &#x7C7B;&#x56FE; <a href="#t18423.2 &#x7C7B;&#x56FE;"> # </a></h3>
<p><img src="https://images.gitee.com/uploads/images/2019/0109/192759_6d3a62a9_1720749.jpeg" alt="visitor"></p>
<h3 id="t18523.3 &#x4EE3;&#x7801;">23.3 &#x4EE3;&#x7801; <a href="#t18523.3 &#x4EE3;&#x7801;"> # </a></h3>
<pre><code class="lang-js">class Father{
    constructor(name,wealth) {
        this.name=name;
        this.wealth=wealth;
    }
    accept(viewer) {
        viewer.viewFather(this);
    }
}
class Mother{
    constructor(name,character) {
        this.name=name;
        this.character=character;
    }
    accept(viewer) {
        viewer.viewMother(this);
    }
}
class Son{
    constructor(name,look) {
        this.name=name;
        this.look=look;
    }
    accept(viewer) {
        viewer.viewSon(this);
    }
}
class Family{
    constructor(father,mother,son) {
        this.father=father;
        this.mother=mother
        this.son=son;
    }
    view(viewer) {
        this.father.accept(viewer);
        this.mother.accept(viewer);
        this.son.accept(viewer);
    }
}

class Girl{
    constructor(name) {
        this.name=name;
    }
    viewFather(father) {
        console.log(`${this.name} ${father.name} &#x7684;&#x8D22;&#x5BCC; ${father.wealth}`);        
    }
    viewMother(mother) {
        console.log(`${this.name} ${mother.name} &#x7684;&#x6027;&#x683C; ${mother.character}`);        
    }
    viewSon(son) {
        console.log(`${this.name} ${son.name} &#x7684;&#x76F8;&#x8C8C; ${son.look}`);        
    }
}
let father=new Father(&apos;&#x51AF;&#x7238;&#x7238;&apos;,999999);
let mother=new Mother(&apos;&#x51AF;&#x5988;&#x5988;&apos;,&apos;&#x6E29;&#x67D4;&apos;);
let son=new Son(&apos;&#x51AF;&#x7ECD;&#x5CF0;&apos;,&apos;&#x5E05;&apos;);
let family=new Family(father,mother,son);
let zhaoliying=new Girl(&apos;&#x8D75;&#x4E3D;&#x9896;&apos;);
family.view(zhaoliying);
</code></pre>
<h3 id="t18623.3 &#x5E94;&#x7528;&#x573A;&#x666F;">23.3 &#x5E94;&#x7528;&#x573A;&#x666F; <a href="#t18623.3 &#x5E94;&#x7528;&#x573A;&#x666F;"> # </a></h3>
<pre><code class="lang-js">let babel = require(&apos;babel-core&apos;);
let t=require(&apos;babel-types&apos;);
let preCalculator={
    visitor: {
        BinaryExpression(path) {
            let node=path.node;
            console.log(node.operator);
        }
    }
}


const result = babel.transform(&apos;const sum = 1+2&apos;,{
    plugins:[
        preCalculator
    ]
});
//console.log(result.code);
</code></pre>
<h2 id="t18724. &#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;">24. &#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F; <a href="#t18724. &#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;"> # </a></h2>
<ul>
<li>&#x63CF;&#x8FF0;&#x8BED;&#x8A00;&#x8BED;&#x6CD5;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#xFF0C;&#x5982;&#x4F55;&#x89E3;&#x91CA;&#x548C;&#x7F16;&#x8BD1;</li>
<li><a href="https://www.cnblogs.com/chenssy/p/3346427.html">&#x89E3;&#x91CA;&#x5668;&#x6A21;&#x5F0F;</a><h3 id="t18824.1 &#x7C7B;&#x56FE;">24.1 &#x7C7B;&#x56FE; <a href="#t18824.1 &#x7C7B;&#x56FE;"> # </a></h3>
</li>
</ul>
<h3 id="t18924.2 &#x4EE3;&#x7801;">24.2 &#x4EE3;&#x7801; <a href="#t18924.2 &#x4EE3;&#x7801;"> # </a></h3>

        <div class="copyright">Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a>. Dependence <a href="https://nodejs.org">Node.js</a> run.</div>
    